{"version":3,"sources":["resources/images/brand.png","Components/Homepage/Homepage.js","DAO/DataAccessObject.js","Components/AuthForm/AuthForm.js","Components/ForgotPassword/ForgotPassword.js","Components/Dashboard/AddClassroom.js","Components/Dashboard/StudentClassroomPage.js","Components/Dashboard/InstructorClassroomPage.js","Components/Dashboard/Dashboard.js","resources/images/404.gif","Components/NotFound/NotFound.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","homepage","userSelect","header","textAlign","color","content","display","alignItems","leftFlexBox","flex","marginRight","rightFlexBox","marginLeft","brandImage","borderRadius","width","height","button","margin","Homepage","props","classes","useState","redirect","setRedirect","className","src","BrandIcon","alt","Button","variant","onClick","event","to","SECRET","axios","defaults","baseURL","readClassroom","classroomId","Promise","resolve","reject","get","then","response","catch","err","paper","marginTop","spacing","flexDirection","avatar","backgroundColor","palette","secondary","main","form","submit","AuthForm","register","role","setRole","loading","text","loader","setLoader","error","setError","success","setSuccess","id","active","spinner","Container","component","maxWidth","CssBaseline","Avatar","Typography","noValidate","onSubmit","preventDefault","username","String","document","getElementById","value","toLowerCase","trim","email","password","test","isValidEmail","user","post","registerUser","data","finally","loginUser","jsonObject","localStorage","setItem","_id","CryptoJS","AES","encrypt","JSON","stringify","Collapse","in","Boolean","Alert","severity","action","IconButton","aria-label","size","fontSize","TextField","fullWidth","label","name","autoComplete","autoFocus","type","FormControl","RadioGroup","row","onChange","target","FormControlLabel","control","Radio","Grid","container","item","xs","style","ForgotPassword","reset","tokenId","match","params","resetPassword","forgotPassword","AddClassroom","showSnackBar","onAddClassroom","isTeacher","fieldName","length","useStyles1","root","flexShrink","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","disabled","direction","Math","ceil","max","classroomPage","padding","table","minWidth","StudentClassroomPage","setSnack","classroom","setClassroom","records","setRecords","tempMessage","setTempMessage","rows","i","rec","key","attendanceId","students","indexOf","Badge","badgeContent","push","React","setPage","setRowsPerPage","emptyRows","min","useEffect","visible","snackType","snackMessage","toMark","collectingFor","code","userId","markAttendance","TableContainer","Paper","Table","TableBody","slice","map","TableRow","TableCell","scope","align","colSpan","TableFooter","TablePagination","rowsPerPageOptions","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","parseInt","ActionsComponent","InstructorClassroomPage","presentStyle","absentStyle","columns","headerRow","toUpperCase","studentOnce","studEmail","j","parseRecords","stopCollectingAttendance","collectAttendance","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","overflow","paddingTop","paddingBottom","fixedHeight","Dashboard","open","setOpen","currentItem","setCurrentItem","setUser","snack","message","hideSnackBar","readUser","cipherText","bytes","decrypt","parse","toString","enc","Utf8","getItem","console","log","removeItem","useremail","classCode","isClassPageVisible","AppBar","clsx","Toolbar","edge","noWrap","logoutUser","Drawer","Divider","List","ListItem","ListItemIcon","ListItemText","primary","deleteClassroom","userEmail","leaveClassroom","csvText","querySelectorAll","cols","children","innerText","filename","element","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","ListSubheader","inset","classrooms","onViewClassroom","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","NotFound","Image","href","PublicRoute","Component","rest","render","merged","pathname","state","from","location","PrivateRoute","App","basename","exact","path","ReactDOM","Fragment"],"mappings":"yhBAAe,MAA0B,kCCKnCA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,SAAU,CACNC,WAAY,QAEhBC,OAAQ,CACJC,UAAW,SACXC,MAAO,WAEXC,QAAS,CACLC,QAAS,OACTC,WAAY,UAEhBC,YAAa,CACTC,KAAM,GACNN,UAAW,SACXO,YAAa,QAEjBC,aAAc,CACVF,KAAM,GACNN,UAAW,OACXS,WAAY,QAEhBC,WAAW,CACPC,aAAc,MACdC,MAAO,QACPC,OAAQ,SAEZC,OAAQ,CACJC,OAAQ,iBAsCDC,MAlCf,SAAkBC,GACd,IAAMC,EAAUxB,IADK,EAEWyB,mBAAS,MAFpB,mBAEdC,EAFc,KAEJC,EAFI,KAGrB,OAAID,GAEA,sBAAKE,UAAWJ,EAAQrB,SAAxB,UACI,oBAAIyB,UAAWJ,EAAQnB,OAAvB,0CACA,sBAAKuB,UAAWJ,EAAQhB,QAAxB,UACI,qBAAKoB,UAAWJ,EAAQb,YAAxB,SACI,qBAAKkB,IAAKC,EAAWC,IAAI,YAAYH,UAAWJ,EAAQR,eAE5D,sBAAKY,UAAWJ,EAAQV,aAAxB,UACI,6EACgD,uBADhD,6CAE8C,uBAF9C,mCAGoC,uBAHpC,gDAIiD,uBAJjD,qDAKsD,uBALtD,wCAQA,kDACqB,uBADrB,+CAIA,cAACkB,EAAA,EAAD,CAAQJ,UAAWJ,EAAQJ,OAAQa,QAAQ,YACvC1B,MAAM,UAAU2B,QAAS,SAAAC,GAAK,OAAIR,EAAY,cAAC,IAAD,CAAUS,GAAG,aAD/D,qBAbJ,KAgBI,cAACJ,EAAA,EAAD,CAAQJ,UAAWJ,EAAQJ,OAAQa,QAAQ,YACvC1B,MAAM,UAAU2B,QAAS,SAAAC,GAAK,OAAIR,EAAY,cAAC,IAAD,CAAUS,GAAG,gBAD/D,+B,iMC9DdC,EAAO,mIACbC,IAAMC,SAASC,QAAU,qDAGlB,IAgDMC,EAAgB,SAASC,GAClC,OAAO,IAAIC,SAAQ,SAASC,EAASC,GACjCP,IAAMQ,IAAI,cAAgBJ,GACrBK,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,UCjC/DlD,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiD,MAAO,CACLC,UAAWlD,EAAMmD,QAAQ,GACzB5C,QAAS,OACT6C,cAAe,SACf5C,WAAY,UAEd6C,OAAQ,CACNlC,OAAQnB,EAAMmD,QAAQ,GACtBG,gBAAiBtD,EAAMuD,QAAQC,UAAUC,MAE3CC,KAAM,CACJ1C,MAAO,OACPkC,UAAWlD,EAAMmD,QAAQ,IAE3BQ,OAAQ,CACNxC,OAAQnB,EAAMmD,QAAQ,EAAG,EAAG,QAUjB,SAASS,EAASvC,GAAQ,IAChCwC,EAAYxC,EAAZwC,SACDvC,EAAUxB,IAFsB,EAGdyB,mBAAS,WAHK,mBAG/BuC,EAH+B,KAGzBC,EAHyB,OAIVxC,mBAAS,CAACyC,SAAS,EAAOC,KAAO,KAJvB,mBAI/BC,EAJ+B,KAIvBC,EAJuB,OAKZ5C,mBAAS,MALG,mBAK/B6C,EAL+B,KAKxBC,EALwB,OAMR9C,mBAAS,MAND,mBAM/B+C,EAN+B,KAMtBC,EANsB,OAONhD,mBAAS,MAPH,mBAO/BC,EAP+B,KAOrBC,EAPqB,KAqFtC,OAAID,GAIF,qBAAKgD,GAAG,WAAR,SACA,cAAC,IAAD,CAAgBC,OAAQP,EAAOF,QAASU,SAAO,EAACT,KAAMC,EAAOD,KAA7D,SACI,eAACU,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACA,cAACC,EAAA,EAAD,IACA,sBAAKpD,UAAWJ,EAAQ2B,MAAxB,UACI,cAAC8B,EAAA,EAAD,CAAQrD,UAAWJ,EAAQ+B,OAAQ1B,IAAKC,IACxC,cAACoD,EAAA,EAAD,CAAYJ,UAAU,KAAK7C,QAAQ,KAAnC,SACC8B,EAAW,UAAY,YAExB,uBAAMnC,UAAWJ,EAAQoC,KAAMuB,YAAU,EAACC,SAhF/B,SAASjD,GAG5B,GADAA,EAAMkD,kBACFjB,EAAOF,QAAX,CAGA,IAAIoB,EAAW,KACXvB,IAAUuB,EAAWC,OAAOC,SAASC,eAAe,YAAYC,OAAOC,cAAcC,QACzF,IAAIC,EAAQN,OAAOC,SAASC,eAAe,SAASC,OAAOC,cAAcC,OACrEE,EAAWP,OAAOC,SAASC,eAAe,YAAYC,OAAOC,cAAcC,OAG/E,GAAgB,MAAZN,GAAiC,KAAbA,EAIxB,GAvBmB,SAASO,GAE5B,MADqB,wJACDE,KAAKR,OAAOM,GAAOF,eAqBnCK,CAAaH,GAIjB,GAAiB,KAAbC,EAIJ,GAAa,YAAT9B,GAA+B,YAATA,EAM1B,GAAID,EAEAM,EAAU,CAACH,SAAS,EAAMC,KAAK,6CD9FX,SAAS8B,GACjC,OAAO,IAAItD,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,YAAX,eAA4BD,IAC3BlD,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SC6FzDiD,CADW,CAACb,WAAUO,QAAOC,WAAU9B,SACpBjB,MAAK,SAAAC,GACpB,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MAAOC,EAAS6B,EAAK9B,OACdG,EAAW,wCAC5BxB,OAAM,SAAAC,GACLqB,EAASrB,MACVmD,SAAQ,WACPhC,EAAU,CAACH,SAAS,EAAOC,KAAK,aAIpCE,EAAU,CAACH,SAAS,EAAMC,KAAK,kDDnGd,SAAS8B,GAC9B,OAAO,IAAItD,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,SAAX,eAAyBD,IACxBlD,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SCkGzDoD,CADW,CAACT,QAAOC,WAAU9B,SACbjB,MAAK,SAAAC,GACjB,IDWoBuD,ECXhBH,EAAOpD,EAASoD,KAChBA,EAAK9B,MACLC,EAAS6B,EAAK9B,QAEdkC,aAAaC,QAAQ,SDOLF,ECPsBH,EAAKH,KAAKS,IDQrDC,IAASC,IAAIC,QAAQC,KAAKC,UAAUR,GAAalE,KCP5CoC,EAAW,mCACX9C,EAAY,cAAC,IAAD,CAAUS,GAAG,oBAE9Ba,OAAM,SAAAC,GACLqB,EAASrB,MACVmD,SAAQ,WACPhC,EAAU,CAACH,SAAS,EAAOC,KAAK,aAlCpCI,EAAS,iCAJTA,EAAS,yCAJTA,EAAS,sCAJTA,EAAS,sCAmEL,UAEI,eAACyC,EAAA,EAAD,CAAUC,GAAIC,QAAQ1C,GAAWF,GAAjC,UACKE,GAAW,eAAC2C,EAAA,EAAD,CAAOC,SAAS,UAAUC,OAClC,cAACC,EAAA,EAAD,CAAYC,aAAW,QAAQhH,MAAM,UAAUiH,KAAK,QACpDtF,QAAS,WAAQuC,EAAW,MAAOF,EAAS,OAD5C,SAEI,cAAC,IAAD,CAAWkD,SAAS,cAHhB,cAKRlC,OAAOf,MACVF,GAAS,eAAC6C,EAAA,EAAD,CAAOC,SAAS,QAAQC,OAC9B,cAACC,EAAA,EAAD,CAAYC,aAAW,QAAQhH,MAAM,UAAUiH,KAAK,QACpDtF,QAAS,WAAQuC,EAAW,MAAOF,EAAS,OAD5C,SAEI,cAAC,IAAD,CAAWkD,SAAS,cAHlB,cAKNlC,OAAOjB,SAIdP,GAAY,cAAC2D,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EAChEjD,GAAG,WAAWkD,MAAM,WAAWC,KAAK,WAAWC,aAAa,OAC5DC,WAAS,IACb,cAACL,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EACnDjD,GAAG,QAAQkD,MAAM,gBAAgBC,KAAK,QACtCC,aAAa,QAAQC,WAAS,IAClC,cAACL,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EACnDE,KAAK,WAAWD,MAAM,WAAWI,KAAK,WACtCtD,GAAG,WAAWoD,aAAa,qBAC/B,cAACG,EAAA,EAAD,CAAanD,UAAU,WAAvB,SACA,eAACoD,EAAA,EAAD,CAAYC,KAAG,EAACZ,aAAW,OAAOM,KAAK,OAAOnC,MAAO1B,EAAMoE,SAAU,SAAAjG,GAAK,OAAI8B,EAAQ9B,EAAMkG,OAAO3C,QAAnG,UACI,cAAC4C,EAAA,EAAD,CAAkB5C,MAAM,UAAU6C,QAAS,cAACC,EAAA,EAAD,IAAWZ,MAAM,YAC5D,cAACU,EAAA,EAAD,CAAkB5C,MAAM,UAAU6C,QAAS,cAACC,EAAA,EAAD,IAAWZ,MAAM,iBAGhE,cAAC5F,EAAA,EAAD,CAAQ0C,GAAG,eAAesD,KAAK,SAASL,WAAS,EAC7C1F,QAAQ,YAAY1B,MAAM,UAC1BqB,UAAWJ,EAAQqC,OAFvB,SAGKE,EAAW,UAAY,YAE5B,eAAC0E,EAAA,EAAD,CAAMC,WAAS,EAAf,UACI,cAACD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAb,UACM7E,GAAY,cAAC,WAAD,CAAM3B,GAAG,mBAAmBH,QAAQ,QAApC,gCAElB,cAACwG,EAAA,EAAD,CAAME,MAAI,EAAV,SACI,cAAC,WAAD,CAAMvG,GAAI2B,EAAW,SAAW,YAAa9B,QAAQ,QAArD,SACK8B,EAAW,mCAAqC,wCAI7D,mBAAG8E,MAAO,CAAC,OAAU,uBC7KrC,IAAM7I,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiD,MAAO,CACLC,UAAWlD,EAAMmD,QAAQ,GACzB5C,QAAS,OACT6C,cAAe,SACf5C,WAAY,UAEd6C,OAAQ,CACNlC,OAAQnB,EAAMmD,QAAQ,GACtBG,gBAAiBtD,EAAMuD,QAAQC,UAAUC,MAE3CC,KAAM,CACJ1C,MAAO,OACPkC,UAAWlD,EAAMmD,QAAQ,IAE3BQ,OAAQ,CACNxC,OAAQnB,EAAMmD,QAAQ,EAAG,EAAG,QAUjB,SAASyF,EAAevH,GAAQ,IACtCwH,EAASxH,EAATwH,MACDvH,EAAUxB,IAF4B,EAGpByB,mBAAS,WAHW,mBAGrCuC,EAHqC,KAG/BC,EAH+B,OAIhBxC,mBAAS,CAACyC,SAAS,EAAOC,KAAO,KAJjB,mBAIrCC,EAJqC,KAI7BC,EAJ6B,OAKlB5C,mBAAS,MALS,mBAKrC6C,EALqC,KAK9BC,EAL8B,OAMd9C,mBAAS,MANK,mBAMrC+C,EANqC,KAM5BC,EAN4B,KAgE5C,OACE,qBAAKC,GAAG,qBAAR,SACA,cAAC,IAAD,CAAgBC,OAAQP,EAAOF,QAASU,SAAO,EAACT,KAAMC,EAAOD,KAA7D,SACI,eAACU,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACA,cAACC,EAAA,EAAD,IACA,sBAAKpD,UAAWJ,EAAQ2B,MAAxB,UACI,cAAC8B,EAAA,EAAD,CAAQrD,UAAWJ,EAAQ+B,OAAQ1B,IAAKC,IACxC,cAACoD,EAAA,EAAD,CAAYJ,UAAU,KAAK7C,QAAQ,KAAnC,SACG8G,EAAQ,iBAAmB,oBAE9B,uBAAMnH,UAAWJ,EAAQoC,KAAMuB,YAAU,EAACC,SA1D/B,SAASjD,GAE5B,GADAA,EAAMkD,kBACFjB,EAAOF,QACX,GAAI6E,EAAO,CACT,IAAIjD,EAAWP,OAAOC,SAASC,eAAe,YAAYC,OAAOE,OACjE,GAAiB,KAAbE,EAEF,YADAvB,EAAS,mCAHF,IAMJyE,EAAWzH,EAAM0H,MAAMC,OAAvBF,QAEL3E,EAAU,CAACH,SAAS,EAAMC,KAAK,8CFtCR,SAAS6E,EAASlD,GAC3C,OAAO,IAAInD,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,kBAAmB,CAAC8C,UAASlD,aACnC/C,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SEoC/DiG,CAAcH,EAASlD,GAAU/C,MAAK,SAAAC,GAAa,IAE5CsB,EADQtB,EAARoD,KACA9B,MACDA,EACFC,EAASD,GAETG,EAAW,8CAEZxB,OAAM,SAAAC,GACPqB,EAASrB,MACRmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,YAE9B,CACL,IAAI0B,EAAQL,SAASC,eAAe,SAASC,MAC7C,IAjCiB,SAASG,GAE5B,MADqB,wJACDE,KAAKR,OAAOM,GAAOF,eA+BhCK,CAAaH,GAEd,YADAtB,EAAS,iCAIbF,EAAU,CAACH,SAAS,EAAMC,KAAK,8CFnEP,SAAS0B,EAAO7B,GAC1C,OAAO,IAAIrB,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,mBAAoB,CAACL,QAAO7B,SAClCjB,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SEiE/DkG,CAAevD,EAAO7B,GAAMjB,MAAK,SAAAC,GAAa,IAErCsB,EADQtB,EAARoD,KACA9B,MACDA,EAAQC,EAASD,GACTG,EAAW,oDACxBxB,OAAM,SAAAC,GACLqB,EAASrB,MACVmD,SAAQ,WACPhC,EAAU,CAACH,SAAS,EAAOC,KAAM,UAiB/B,UAEI,eAAC6C,EAAA,EAAD,CAAUC,GAAIC,QAAQ1C,GAAWF,GAAjC,UACKE,GAAW,eAAC2C,EAAA,EAAD,CAAOC,SAAS,UAAUC,OAClC,cAACC,EAAA,EAAD,CAAYC,aAAW,QAAQhH,MAAM,UAAUiH,KAAK,QACpDtF,QAAS,WAAQuC,EAAW,MAAOF,EAAS,OAD5C,SAEI,cAAC,IAAD,CAAWkD,SAAS,cAHhB,cAKRlC,OAAOf,MACVF,GAAS,eAAC6C,EAAA,EAAD,CAAOC,SAAS,QAAQC,OAC9B,cAACC,EAAA,EAAD,CAAYC,aAAW,QAAQhH,MAAM,UAAUiH,KAAK,QACpDtF,QAAS,WAAQuC,EAAW,MAAOF,EAAS,OAD5C,SAEI,cAAC,IAAD,CAAWkD,SAAS,cAHlB,cAKNlC,OAAOjB,SAIdyE,GACC,cAACrB,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EACnDjD,GAAG,WAAWkD,MAAM,eAAeC,KAAK,WAAWG,KAAK,WACxDF,aAAa,WAAWC,WAAS,KACrCgB,GACA,gCACE,cAACrB,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EACnDjD,GAAG,QAAQkD,MAAM,gBAAgBC,KAAK,QACtCC,aAAa,QAAQC,WAAS,IAClC,cAACE,EAAA,EAAD,CAAanD,UAAU,WAAvB,SACA,eAACoD,EAAA,EAAD,CAAYC,KAAG,EAACZ,aAAW,OAAOM,KAAK,OAAOnC,MAAO1B,EAAMoE,SAAU,SAAAjG,GAAK,OAAI8B,EAAQ9B,EAAMkG,OAAO3C,QAAnG,UACI,cAAC4C,EAAA,EAAD,CAAkB5C,MAAM,UAAU6C,QAAS,cAACC,EAAA,EAAD,IAAWZ,MAAM,YAC5D,cAACU,EAAA,EAAD,CAAkB5C,MAAM,UAAU6C,QAAS,cAACC,EAAA,EAAD,IAAWZ,MAAM,oBAIpE,cAAC5F,EAAA,EAAD,CAAQ0C,GAAG,eAAesD,KAAK,SAASL,WAAS,EAC7C1F,QAAQ,YAAY1B,MAAM,UAC1BqB,UAAWJ,EAAQqC,OAFvB,qBAKEkF,GACA,eAACN,EAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAb,SACI,cAAC,WAAD,CAAMxG,GAAG,SAASH,QAAQ,QAA1B,6BAEJ,cAACwG,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAb,SACI,cAAC,WAAD,CAAMxG,GAAG,SAASH,QAAQ,QAA1B,6C,oQC7JlBjC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiD,MAAO,CACLC,UAAWlD,EAAMmD,QAAQ,GACzB5C,QAAS,OACT6C,cAAe,SACf5C,WAAY,UAEd6C,OAAQ,CACNlC,OAAQnB,EAAMmD,QAAQ,GACtBG,gBAAiBtD,EAAMuD,QAAQC,UAAUC,MAE3CC,KAAM,CACJ1C,MAAO,OACPkC,UAAWlD,EAAMmD,QAAQ,IAE3BQ,OAAQ,CACNxC,OAAQnB,EAAMmD,QAAQ,EAAG,EAAG,QAUjB,SAASgG,GAAa9H,GAAQ,IACpC+H,EAAsC/H,EAAtC+H,aAAcC,EAAwBhI,EAAxBgI,eAAgBvF,EAAQzC,EAARyC,KAC/BxC,EAAUxB,KACZwJ,EAAsB,YAATxF,EACbyF,EAAaD,EAAY,YAAa,YAe1C,OACE,qBAAK9E,GAAG,mBAAR,SACI,eAACG,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACA,cAACC,EAAA,EAAD,IACA,sBAAKpD,UAAWJ,EAAQ2B,MAAxB,UACI,cAAC8B,EAAA,EAAD,CAAQrD,UAAWJ,EAAQ+B,OAAQ1B,IAAKC,IACxC,eAACoD,EAAA,EAAD,CAAYJ,UAAU,KAAK7C,QAAQ,KAAnC,UACGuH,EAAY,SAAW,OAD1B,gBAGA,uBAAM5H,UAAWJ,EAAQoC,KAAMuB,YAAU,EACrCC,SAtBO,SAASjD,GAE5BA,EAAMkD,iBACN,IAAIzD,EAAY2D,OAAOC,SAASC,eAAegE,GAAW/D,OAAOE,OACxC,IAArBhE,EAAU8H,OAKdH,EAAe3H,GAJX0H,EAAa,QAAS,qCAiBUxB,aAAa,MADzC,UAGI,cAACJ,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EACnDjD,GAAI+E,EAAW7B,MAAO6B,EAAW5B,KAAM4B,EAAW3B,aAAa,MAC/DC,WAAS,IACb,cAAC/F,EAAA,EAAD,CAAQ0C,GAAG,eAAesD,KAAK,SAASL,WAAS,EAC7C1F,QAAQ,YAAY1B,MAAM,UAC1BqB,UAAWJ,EAAQqC,OAFvB,SAGK2F,EAAY,SAAW,oB,uLCtDtCG,GAAa1J,aAAW,SAACC,GAAD,MAAY,CACxC0J,KAAM,CACJC,WAAY,EACZ9I,WAAYb,EAAMmD,QAAQ,UAI9B,SAASyG,GAAuBvI,GAC9B,IAAMC,EAAUmI,KACVzJ,EAAQ6J,eACNC,EAA2CzI,EAA3CyI,MAAOC,EAAoC1I,EAApC0I,KAAMC,EAA8B3I,EAA9B2I,YAAaC,EAAiB5I,EAAjB4I,aAkBlC,OACE,sBAAKvI,UAAWJ,EAAQoI,KAAxB,UACE,cAACtC,EAAA,EAAD,CACEpF,QAnB6B,SAACC,GAClCgI,EAAahI,EAAO,IAmBhBiI,SAAmB,IAATH,EACV1C,aAAW,aAHb,SAKuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAmB,cAAC,KAAD,MAElD,cAAC/C,EAAA,EAAD,CAAYpF,QArBc,SAACC,GAC7BgI,EAAahI,EAAO8H,EAAO,IAoBmBG,SAAmB,IAATH,EAAY1C,aAAW,gBAA7E,SACuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAyB,cAAC,KAAD,MAExD,cAAC/C,EAAA,EAAD,CACEpF,QArBwB,SAACC,GAC7BgI,EAAahI,EAAO8H,EAAO,IAqBvBG,SAAUH,GAAQK,KAAKC,KAAKP,EAAQE,GAAe,EACnD3C,aAAW,YAHb,SAKuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAwB,cAAC,KAAD,MAEvD,cAAC/C,EAAA,EAAD,CACEpF,QAxB4B,SAACC,GACjCgI,EAAahI,EAAOmI,KAAKE,IAAI,EAAGF,KAAKC,KAAKP,EAAQE,GAAe,KAwB7DE,SAAUH,GAAQK,KAAKC,KAAKP,EAAQE,GAAe,EACnD3C,aAAW,YAHb,SAKuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAoB,cAAC,KAAD,SAczD,IAAMrK,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiD,MAAO,CACLC,UAAWlD,EAAMmD,QAAQ,GACzB5C,QAAS,OACT6C,cAAe,SACf5C,WAAY,UAEd6C,OAAQ,CACNlC,OAAQnB,EAAMmD,QAAQ,GACtBG,gBAAiBtD,EAAMuD,QAAQC,UAAUC,MAE3CC,KAAM,CACJ1C,MAAO,OACPkC,UAAWlD,EAAMmD,QAAQ,IAE3BQ,OAAQ,CACNxC,OAAQnB,EAAMmD,QAAQ,EAAG,EAAG,IAE9BoH,cAAe,CACbC,QAAS,OACTxJ,MAAO,MACPG,OAAQ,aAEVuI,KAAM,CACJC,WAAY,EACZ9I,WAAYb,EAAMmD,QAAQ,MAE5BsH,MAAO,CACLC,SAAU,SAMC,SAASC,GAAqBtJ,GAS3C,IATkD,IAC3C0E,EAA0C1E,EAA1C0E,KAAMvD,EAAoCnB,EAApCmB,YAAa2B,EAAuB9C,EAAvB8C,UAAWyG,EAAYvJ,EAAZuJ,SAC/BtJ,EAAUxB,KAFiC,EAGfyB,mBAAS,MAHM,mBAG1CsJ,EAH0C,KAG/BC,EAH+B,OAInBvJ,mBAAS,IAJU,mBAI1CwJ,EAJ0C,KAIjCC,EAJiC,OAKXzJ,mBAAS,qCALE,mBAK1C0J,EAL0C,KAK7BC,EAL6B,KAQ7CC,EAAO,GACHC,EAAI,EAAGA,EAAIL,EAAQvB,SAAU4B,EAAG,CACtC,IAAIC,EAAMN,EAAQK,GACdE,EAAMD,EAAIE,aACV/F,EAAQ,KAEVA,GADwC,IAAtC6F,EAAIG,SAASC,QAAQ1F,EAAKJ,OACpB,cAAC+F,GAAA,EAAD,CAAOrL,MAAM,YAAYsL,aAAc,WAEvC,cAACD,GAAA,EAAD,CAAOrL,MAAM,UAAUsL,aAAc,YAE/CR,EAAKS,KAAK,CAACN,MAAK9F,UAlB+B,MAuBzBqG,IAAMtK,SAAS,GAvBU,mBAuB1CwI,EAvB0C,KAuBpC+B,EAvBoC,OAwBXD,IAAMtK,SAAS,GAxBJ,mBAwB1CyI,EAxB0C,KAwB7B+B,EAxB6B,KAyB3CC,EAAYhC,EAAcI,KAAK6B,IAAIjC,EAAamB,EAAK3B,OAASO,EAAOC,GAU3EkC,qBAAU,WACR/H,EAAU,CAACH,SAAS,EAAMC,KAAK,yDAC/B1B,EAAcC,GAAaK,MAAK,SAAAC,GAC9B,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,OACP8G,EAAe,6CACfN,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,UAEhE0G,EAAa5E,EAAK2E,WAClBG,EAAW9E,EAAK6E,aAEjBhI,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAK,UAEjC,CAACzB,EAAa2B,EAAWyG,IAqB5B,IAlBA,IAiBI0B,GAAS,EACJlB,EAAI,EAAGA,EAAIL,EAAQvB,SAAU4B,EACpC,GAAIL,EAAQK,GAAGG,eAAiBV,EAAU0B,cAAc,CACtDD,GAAuD,IAA7CvB,EAAQK,GAAGI,SAASC,QAAQ1F,EAAKJ,OAC3C,MAKJ,OAAkB,OAAdkF,EAEA,qBAAKrG,GAAG,gBAAgB9C,UAAWJ,EAAQiJ,cAA3C,SACGU,IAOL,sBAAKzG,GAAG,gBAAgB9C,UAAWJ,EAAQiJ,cAA3C,UACI,sBAAK5B,MAAO,CAACvI,UAAW,UAAxB,UAAmC,sDAAkCyK,EAAUnJ,aAC/E,sBAAKiH,MAAO,CAACvI,UAAW,UAAxB,UAAmC,sDAAkCyK,EAAU2B,QAG9E3B,EAAU0B,eAAiBD,GAC5B,eAACxK,EAAA,EAAD,CAAQgG,KAAK,SAASL,WAAS,EAC7B1F,QAAQ,YAAY1B,MAAM,UAC1BqB,UAAWJ,EAAQqC,OAAQ3B,QA5CV,WACvBmC,EAAU,CAACH,SAAS,EAAMC,KAAK,8CJlEL,SAASwI,EAAQjK,GAC3C,OAAO,IAAIC,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,mBAAoB,CAACyG,SAAQjK,gBACnCK,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SIgEjE0J,CAAe3G,EAAKS,IAAKqE,EAAUrE,KAAK3D,MAAK,SAAAC,GAC3C,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhE0G,EAAa5E,EAAK2E,WAClBG,EAAW9E,EAAK6E,aAEjBhI,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAK,SA6B9B,gCAGsB4G,EAAU0B,iBAMlC,sBAAK5D,MAAO,CAACvI,UAAW,UAAxB,UAAmC,uBAAnC,gDACA,cAACuM,GAAA,EAAD,CAAgB/H,UAAWgI,KAA3B,SACA,cAACC,GAAA,EAAD,CAAOnL,UAAWJ,EAAQmJ,MAAOpD,aAAW,0BAA0B7C,GAAG,wBAAzE,SACE,eAACsI,GAAA,EAAD,YACI9C,EAAc,EACZmB,EAAK4B,MAAMhD,EAAOC,EAAaD,EAAOC,EAAcA,GACpDmB,GACF6B,KAAI,SAAC/E,GAAD,OACJ,eAACgF,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWtI,UAAU,KAAKuI,MAAM,MAAhC,SACGlF,EAAIqD,MAEP,cAAC4B,GAAA,EAAD,CAAWE,MAAM,OAAjB,SACGnF,EAAIzC,UALMyC,EAAIqD,QAUpBU,EAAY,GACX,cAACiB,GAAA,EAAD,CAAUtE,MAAO,CAAE1H,OAAQ,GAAK+K,GAAhC,SACE,cAACkB,GAAA,EAAD,CAAWG,QAAS,aAM9B,cAACV,GAAA,EAAD,UACE,cAACE,GAAA,EAAD,UACA,cAACS,GAAA,EAAD,UACI,cAACL,GAAA,EAAD,UACE,cAACM,GAAA,EAAD,CACEC,mBAAoB,CAAC,EAAG,GAAI,GAAI,CAAE9F,MAAO,MAAOlC,OAAQ,IACxD6H,QAAS,EACTvD,MAAOqB,EAAK3B,OACZQ,YAAaA,EACbD,KAAMA,EACN0D,YAAa,CACXC,WAAY,CAAE,aAAc,iBAC5BC,QAAQ,GAEV1D,aAvHa,SAAChI,EAAO2L,GAC/B9B,EAAQ8B,IAuHEC,oBArHoB,SAAC5L,GAC/B8J,EAAe+B,SAAS7L,EAAMkG,OAAO3C,MAAO,KAC5CsG,EAAQ,IAoHEiC,iBAAkBnE,gBCtPhC,IAAMH,GAAa1J,aAAW,SAACC,GAAD,MAAY,CACxC0J,KAAM,CACJC,WAAY,EACZ9I,WAAYb,EAAMmD,QAAQ,UAI9B,SAASyG,GAAuBvI,GAC9B,IAAMC,EAAUmI,KACVzJ,EAAQ6J,eACNC,EAA2CzI,EAA3CyI,MAAOC,EAAoC1I,EAApC0I,KAAMC,EAA8B3I,EAA9B2I,YAAaC,EAAiB5I,EAAjB4I,aAkBlC,OACE,sBAAKvI,UAAWJ,EAAQoI,KAAxB,UACE,cAACtC,EAAA,EAAD,CACEpF,QAnB6B,SAACC,GAClCgI,EAAahI,EAAO,IAmBhBiI,SAAmB,IAATH,EACV1C,aAAW,aAHb,SAKuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAmB,cAAC,KAAD,MAElD,cAAC/C,EAAA,EAAD,CAAYpF,QArBc,SAACC,GAC7BgI,EAAahI,EAAO8H,EAAO,IAoBmBG,SAAmB,IAATH,EAAY1C,aAAW,gBAA7E,SACuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAyB,cAAC,KAAD,MAExD,cAAC/C,EAAA,EAAD,CACEpF,QArBwB,SAACC,GAC7BgI,EAAahI,EAAO8H,EAAO,IAqBvBG,SAAUH,GAAQK,KAAKC,KAAKP,EAAQE,GAAe,EACnD3C,aAAW,YAHb,SAKuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAwB,cAAC,KAAD,MAEvD,cAAC/C,EAAA,EAAD,CACEpF,QAxB4B,SAACC,GACjCgI,EAAahI,EAAOmI,KAAKE,IAAI,EAAGF,KAAKC,KAAKP,EAAQE,GAAe,KAwB7DE,SAAUH,GAAQK,KAAKC,KAAKP,EAAQE,GAAe,EACnD3C,aAAW,YAHb,SAKuB,QAApBrH,EAAMmK,UAAsB,cAAC,KAAD,IAAoB,cAAC,KAAD,SAczD,IAAMrK,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiD,MAAO,CACLC,UAAWlD,EAAMmD,QAAQ,GACzB5C,QAAS,OACT6C,cAAe,SACf5C,WAAY,UAEd6C,OAAQ,CACNlC,OAAQnB,EAAMmD,QAAQ,GACtBG,gBAAiBtD,EAAMuD,QAAQC,UAAUC,MAE3CC,KAAM,CACJ1C,MAAO,OACPkC,UAAWlD,EAAMmD,QAAQ,IAE3BQ,OAAQ,CACNxC,OAAQnB,EAAMmD,QAAQ,EAAG,EAAG,IAE9BoH,cAAe,CACbC,QAAS,OACTxJ,MAAO,MACPG,OAAQ,aAEVuI,KAAM,CACJC,WAAY,EACZ9I,WAAYb,EAAMmD,QAAQ,MAE5BsH,MAAO,CACLC,SAAU,SAsDC,SAASsD,GAAwB3M,GAAO,IAC9CmB,EAA4CnB,EAA5CmB,YAAa0B,EAA+B7C,EAA/B6C,OAAQC,EAAuB9C,EAAvB8C,UAAWyG,EAAYvJ,EAAZuJ,SACjCtJ,EAAUxB,KAFoC,EAGlByB,mBAAS,MAHS,mBAG7CsJ,EAH6C,KAGlCC,EAHkC,OAItBvJ,mBAAS,IAJa,mBAI7CwJ,EAJ6C,KAIpCC,EAJoC,OAKdzJ,mBAAS,qCALK,mBAK7C0J,EAL6C,KAKhCC,EALgC,KAOhDC,EAtDN,SAAsBN,EAAWE,GAe/B,IAdA,IAAIkD,EAAe,CACjB3K,gBAAiB,UACjBjD,MAAO,UACPmK,QAAS,MACTzJ,aAAc,OAEZmN,EAAc,CAChB5K,gBAAiB,UACjBjD,MAAO,UACPmK,QAAS,MACTzJ,aAAc,OAEZoK,EAAO,GACPgD,EAAU,CAAC,aACN/C,EAAI,EAAGA,EAAIL,EAAQvB,SAAU4B,EACpC+C,EAAQvC,KAAKb,EAAQK,GAAGG,cAE1B,IADA,IAAI6C,EAAY,GACPhD,EAAI,EAAGA,EAAI+C,EAAQ3E,SAAU4B,EACpCgD,EAAUxC,KAAK,cAACsB,GAAA,EAAD,CAAWE,MAAM,OAAjB,SAAyC,iCAASe,EAAQ/C,GAAGiD,iBAA7D,cAAoCjD,KAErD,GADAD,EAAKS,KAAK,CAACN,IAAI,QAAU9F,MAAO4I,IACd,OAAdvD,EAAoB,OAAOM,EAE/B,IADA,IAAIK,EAAWX,EAAUyD,YAChBlD,EAAI,EAAGA,EAAII,EAAShC,SAAU4B,EAAG,CACxC,IAAImD,EAAY/C,EAASJ,GACrBnD,EAAM,GACVA,EAAI2D,KAAK,cAACsB,GAAA,EAAD,CAAWE,MAAM,OAAjB,SAA4CmB,GAA5C,cAAoCnD,EAApC,QACT,IAAK,IAAIoD,EAAI,EAAGA,EAAGzD,EAAQvB,SAAUgF,EAAG,CACtC,IAGI/F,EAAO,KAETA,GAH+C,IAFvCsC,EAAQyD,GACEhD,SACKC,QAAQ8C,GAGxB,sBAAM5F,MAAOsF,EAAb,qBAGA,sBAAMtF,MAAOuF,EAAb,oBAETjG,EAAI2D,KAAK,cAACsB,GAAA,EAAD,CAAWE,MAAM,OAAjB,SAAoD3E,GAApD,eAAqC2C,EAArC,YAA0CoD,EAAI,KAEzDrD,EAAKS,KAAK,CAACN,IAAI,OAAD,OAASF,EAAE,GAAK5F,MAAOyC,IAEvC,OAAOkD,EAYIsD,CAAa5D,EAAWE,GAPiB,EAS5Bc,IAAMtK,SAAS,GATa,mBAS7CwI,EAT6C,KASvC+B,EATuC,OAUdD,IAAMtK,SAAS,GAVD,mBAU7CyI,EAV6C,KAUhC+B,EAVgC,KAW9CC,EAAYhC,EAAcI,KAAK6B,IAAIjC,EAAamB,EAAK3B,OAASO,EAAOC,GAW3EkC,qBAAU,WACR/H,EAAU,CAACH,SAAS,EAAMC,KAAK,yDAC/B1B,EAAcC,GAAaK,MAAK,SAAAC,GAC9B,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,OACP8G,EAAe,6CACfN,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,UAEhE0G,EAAa5E,EAAK2E,WAClBG,EAAW9E,EAAK6E,aAEjBhI,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAK,UAEjC,CAACzB,EAAa2B,EAAWyG,IAuD5B,OAAkB,OAAdC,EAEA,qBAAKrG,GAAG,gBAAgB9C,UAAWJ,EAAQiJ,cAA3C,SACGU,IAML,sBAAKzG,GAAG,gBAAgB9C,UAAWJ,EAAQiJ,cAA3C,UACI,sBAAK5B,MAAO,CAACvI,UAAW,UAAxB,UAAmC,sDAAkCyK,EAAUnJ,aAC/E,sBAAKiH,MAAO,CAACvI,UAAW,UAAxB,UAAmC,sDAAkCyK,EAAU2B,QAG9E3B,EAAU0B,cACX,eAACzK,EAAA,EAAD,CAAQgG,KAAK,SAASL,WAAS,EAC7B1F,QAAQ,YAAY1B,MAAM,YAC1BqB,UAAWJ,EAAQqC,OAAQ3B,QAxCA,SAASC,GAC1C,IAAIiC,EAAOF,QAAX,CACA,IAAIxB,EAAcqI,EAAUrE,IACxB+E,EAAeV,EAAU0B,cAE7BpI,EAAU,CAACH,SAAS,EAAMC,KAAK,6CL/IK,SAASzB,EAAa+I,GAC1D,OAAO,IAAI9I,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,mBAAoB,CAACxD,cAAa+I,iBACxC1I,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SK6IjE0L,CAAyBlM,EAAa+I,GAAc1I,MAAK,SAAAC,GACvD,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhE0G,EAAa5E,EAAK2E,WAClBG,EAAW9E,EAAK6E,aAEjBhI,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,UAqB/B,2CAGiC4G,EAAU0B,iBAG3C,uBAAM7K,UAAWJ,EAAQoC,KAAMuB,YAAU,EAACC,SAvEpB,SAASjD,GAEnC,GADAA,EAAMkD,kBACFjB,EAAOF,QAAX,CACA,IAAIuH,EAAelG,OAAOC,SAASC,eAAe,gBAAgBC,OAAOE,OACpD,KAAjB6F,GAMJpH,EAAU,CAACH,SAAS,EAAMC,KAAK,6CLhIF,SAASzB,EAAa+I,GACnD,OAAO,IAAI9I,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,sBAAuB,CAACxD,cAAa+I,iBAC3C1I,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SK8HjE2L,CAAkB9D,EAAUrE,IAAK+E,GAAc1I,MAAK,SAAAC,GAClD,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhE0G,EAAa5E,EAAK2E,WAClBG,EAAW9E,EAAK6E,aAEjBhI,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,SAjBjC2G,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAc,0CAkEzD,UAEI,cAAC7E,EAAA,EAAD,CAAWzF,QAAQ,WAAWZ,OAAO,SAASsG,WAAS,EACnDjD,GAAG,eAAekD,MAAM,gBACxBC,KAAK,eAAeC,aAAa,OACjCC,WAAS,IACb,cAAC/F,EAAA,EAAD,CAAQ0C,GAAG,eAAesD,KAAK,SAASL,WAAS,EAC7C1F,QAAQ,YAAY1B,MAAM,UAC1BqB,UAAWJ,EAAQqC,OAFvB,mCAUN,sBAAKgF,MAAO,CAACvI,UAAW,UAAxB,UAAmC,uBAAnC,gDACA,cAACuM,GAAA,EAAD,CAAgB/H,UAAWgI,KAA3B,SACA,cAACC,GAAA,EAAD,CAAOnL,UAAWJ,EAAQmJ,MAAOpD,aAAW,0BAA0B7C,GAAG,wBAAzE,SACE,eAACsI,GAAA,EAAD,YACI9C,EAAc,EACZmB,EAAK4B,MAAMhD,EAAOC,EAAaD,EAAOC,EAAcA,GACpDmB,GACF6B,KAAI,SAAC/E,GAAD,OACJ,cAACgF,GAAA,EAAD,UACGhF,EAAIzC,OADQyC,EAAIqD,QAIpBU,EAAY,GACX,cAACiB,GAAA,EAAD,CAAUtE,MAAO,CAAE1H,OAAQ,GAAK+K,GAAhC,SACE,cAACkB,GAAA,EAAD,CAAWG,QAAS,aAM9B,cAACV,GAAA,EAAD,UACE,cAACE,GAAA,EAAD,UACE,cAACS,GAAA,EAAD,UACE,cAACL,GAAA,EAAD,UACE,cAACM,GAAA,EAAD,CACEC,mBAAoB,CAAC,EAAG,GAAI,GAAI,CAAE9F,MAAO,MAAOlC,OAAQ,IACxD6H,QAAS,EACTvD,MAAOqB,EAAK3B,OACZQ,YAAaA,EACbD,KAAMA,EACN0D,YAAa,CACXC,WAAY,CAAE,aAAc,iBAC5BC,QAAQ,GAEV1D,aAxJa,SAAChI,EAAO2L,GAC/B9B,EAAQ8B,IAwJEC,oBAtJoB,SAAC5L,GAC/B8J,EAAe+B,SAAS7L,EAAMkG,OAAO3C,MAAO,KAC5CsG,EAAQ,IAqJEiC,iBAAkBnE,gBC5ShC,IACM9J,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC0J,KAAM,CACJnJ,QAAS,QAEXqO,QAAS,CACPC,aAAc,IAEhBC,YAAY,aACVvO,QAAS,OACTC,WAAY,SACZuO,eAAgB,WAChBvE,QAAS,SACNxK,EAAMgP,OAAOJ,SAElBK,OAAQ,CACNC,OAAQlP,EAAMkP,OAAOC,OAAS,EAC9BC,WAAYpP,EAAMqP,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQvP,EAAMqP,YAAYE,OAAOC,MACjCC,SAAUzP,EAAMqP,YAAYI,SAASC,iBAGzCC,YAAa,CACX9O,WAvBgB,IAwBhBG,MAAM,eAAD,OAxBW,IAwBX,OACLoO,WAAYpP,EAAMqP,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQvP,EAAMqP,YAAYE,OAAOC,MACjCC,SAAUzP,EAAMqP,YAAYI,SAASG,kBAGzCC,WAAY,CACVlP,YAAa,IAEfmP,iBAAkB,CAChBvP,QAAS,QAEXwP,MAAO,CACLC,SAAU,GAEZC,YAAa,CACXC,SAAU,WACVC,WAAY,SACZnP,MA1CgB,IA2ChBoO,WAAYpP,EAAMqP,YAAYC,OAAO,QAAS,CAC5CC,OAAQvP,EAAMqP,YAAYE,OAAOC,MACjCC,SAAUzP,EAAMqP,YAAYI,SAASG,kBAGzCQ,iBAAiB,aACfC,UAAW,SACXjB,WAAYpP,EAAMqP,YAAYC,OAAO,QAAS,CAC5CC,OAAQvP,EAAMqP,YAAYE,OAAOC,MACjCC,SAAUzP,EAAMqP,YAAYI,SAASC,gBAEvC1O,MAAOhB,EAAMmD,QAAQ,IACpBnD,EAAMsQ,YAAYC,GAAG,MAAQ,CAC5BvP,MAAOhB,EAAMmD,QAAQ,KAGzBqN,aAAcxQ,EAAMgP,OAAOJ,QAC3BtO,QAAS,CACP0P,SAAU,EACV/O,OAAQ,QACRwP,SAAU,QAEZjI,UAAW,CACTkI,WAAY1Q,EAAMmD,QAAQ,GAC1BwN,cAAe3Q,EAAMmD,QAAQ,IAE/BF,MAAO,CACLuH,QAASxK,EAAMmD,QAAQ,GACvB5C,QAAS,OACTkQ,SAAU,OACVrN,cAAe,UAEjBwN,YAAa,CACX3P,OAAQ,SAkBG,SAAS4P,KACtB,IAAMvP,EAAUxB,KADkB,EAEVyB,oBAAS,GAFC,mBAE3BuP,EAF2B,KAErBC,EAFqB,OAKNxP,mBAAS,CAACyC,SAAS,EAAOC,KAAM,KAL1B,mBAK3BC,EAL2B,KAKnBC,EALmB,OAMI5C,mBAAS,MANb,mBAM3ByP,EAN2B,KAMdC,EANc,OAOV1P,mBAAS,MAPC,mBAO3BwE,EAP2B,KAOrBmL,EAPqB,OAQF3P,mBAAS,MARP,mBAQ3BC,EAR2B,KAQjBC,EARiB,OASRF,mBAAS,CAAC4K,SAAS,EAAOC,UAAW,UAAWC,aAAc,KATtD,mBAS3B8E,EAT2B,KASpBvG,EAToB,KAa5BxB,EAAe,SAAStB,EAAMsJ,GAClCxG,EAAS,CAACuB,SAAS,EAAMC,UAAWtE,EAAMuE,aAAc+E,KAEpDC,EAAe,SAASpP,GAC5B2I,EAAS,CAACuB,SAAS,EAAOC,UAAW,UAAWC,aAAc,MAIhEH,qBAAU,YNxGY,SAASO,GAC7B,OAAO,IAAIhK,SAAQ,SAASC,EAASC,GACjCP,IAAMQ,IAAI,SAAW6J,GAChB5J,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,UMwGjEsO,CNtBmB,SAASC,GAC5B,IAAIC,EAAQ/K,IAASC,IAAI+K,QAAQF,EAAYpP,GAC7C,OAAOyE,KAAK8K,MAAMF,EAAMG,SAASlL,IAASmL,IAAIC,OMmBjCJ,CADFnL,aAAawL,QAAQ,WAEfjP,MAAK,SAAAC,GACpB,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,OACP2N,QAAQC,IAAI9L,EAAK9B,OACjBwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,UACpC9F,aAAa2L,WAAW,SACxBxQ,EAAY,cAAC,IAAD,CAAUS,GAAG,aAEzBgP,EAAQhL,EAAKH,SAEdhD,OAAM,SAAAC,GACP+O,QAAQC,IAAIhP,GACZsD,aAAa2L,WAAW,SACxBxQ,EAAY,cAAC,IAAD,CAAUS,GAAG,iBAE1B,IAGH,IAyBMmH,EAAiB,SAAS7D,GAC9B,GAAY,MAARO,IACA7B,EAAOF,QAAX,CACA,INzHkCkO,EAAWC,EAhBT1F,EAAQ/K,EM0IxC4H,EAAsB,YADfvD,EAAKjC,KAEhBK,EAAU,CAACH,SAAS,EAClBC,KAAK,GAAD,OAAKqF,EAAY,WAAa,WAA9B,gBACFA,GN7IgCmD,EM8IlB1G,EAAKS,IN9IqB9E,EM8IhB8D,EN7IrB,IAAI/C,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,oBAAqB,CAACyG,SAAQ/K,cACpCmB,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,UM2I9BH,MAAK,SAAAC,GACpC,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhEwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,UAAWC,aAAc,6CAC7D6E,EAAQhL,EAAKH,UAEdhD,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,SNzIHiO,EM4IlBnM,EAAKJ,MN5IwBwM,EM4IjB3M,EN3IrB,IAAI/C,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,kBAAmB,CAACkM,YAAWC,cACrCtP,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,UMyI9BH,MAAK,SAAAC,GACpC,IAAIoD,EAAOpD,EAASoD,KACpB6L,QAAQC,IAAI9L,GACRA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhEwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,UAAWC,aAAc,mDAC7D6E,EAAQhL,EAAKH,UAEdhD,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,UA8FnCmO,EAAqC,MAAfpB,IACvBA,EAAYlJ,OAASkG,IACpBgD,EAAYlJ,OAAS6C,IAEzB,GAAInJ,EAAgB,OAAOA,EAC3B,GAAa,OAATuE,EAAgB,OAAS,0DAC7B,IAAIuD,EAA2B,YAAdvD,EAAKjC,KAGtB,OACE,cAAC,IAAD,CAAgBW,OAAQP,EAAOF,QAASU,SAAO,EAACT,KAAMC,EAAOD,KAA7D,SACA,sBAAKvC,UAAWJ,EAAQoI,KAAxB,UACE,cAAC5E,EAAA,EAAD,IAGA,cAACuN,EAAA,EAAD,CAAQnC,SAAS,WAAWxO,UAAW4Q,YAAKhR,EAAQ2N,OAAQ6B,GAAQxP,EAAQqO,aAA5E,SACE,eAAC4C,EAAA,EAAD,CAAS7Q,UAAWJ,EAAQsN,QAA5B,UACE,cAACxH,EAAA,EAAD,CAAYoL,KAAK,QAAQnS,MAAM,UAC7BgH,aAAW,cAAcrF,QAlNV,WAAQ+O,GAAQ,IAmN/BrP,UAAW4Q,YAAKhR,EAAQuO,WAAYiB,GAAQxP,EAAQwO,kBAFtD,SAGE,cAAC,KAAD,MAEF,cAAC9K,EAAA,EAAD,CAAYJ,UAAU,KAAK7C,QAAQ,KAAK1B,MAAM,UAAUoS,QAAM,EAAC/Q,UAAWJ,EAAQyO,MAAlF,SACGhK,EAAKX,SAAW,IAAMW,EAAKjC,KAAO,MAErC,cAACsD,EAAA,EAAD,CAAY/G,MAAM,UAAU2B,QAlLnB,SAASC,GACZ,MAAR8D,GNtJkB,SAAS0G,GAC/B,OAAO,IAAIhK,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,UAAW,CAACyG,WAClB5J,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SMqJjE0P,CADa3M,EAAKS,KACC3D,MAAK,SAACC,GACvB,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhEkC,aAAa2L,WAAW,SACxBxQ,EAAY,cAAC,IAAD,CAAUS,GAAG,gBAE1Ba,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,QAsKvD,SACE,cAAC,KAAD,WAON,eAAC2P,EAAA,EAAD,CAAQ5Q,QAAQ,YAAYT,QAAS,CAAC2B,MAAOqP,YAAKhR,EAAQ2O,aAAca,GACvDxP,EAAQ8O,mBAAqBU,KAAMA,EADpD,UAEE,sBAAKpP,UAAWJ,EAAQwN,YAAxB,kCAEE,cAAC1H,EAAA,EAAD,CAAYpF,QApOM,WAAQ+O,GAAQ,IAoOlC,SACE,cAAC,KAAD,SAGJ,cAAC6B,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,UACE,gCACE,eAACC,GAAA,EAAD,CAAU5R,QAAM,EAACc,QAlLN,SAASC,GAC5B,IAAIwG,EAAO,cAACU,GAAD,CAAcC,aAAcA,EACvBC,eAAgBA,EAChBvF,KAAc,MAARiC,EAAeA,EAAKjC,KAAO,YACjDmN,EAAexI,IA8KiCyB,SAAUhG,EAAOF,QAAzD,UACE,cAAC+O,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,CAAcC,QAAU3J,EAAY,gBAAkB,sBAExD,eAACwJ,GAAA,EAAD,CAAU5R,QAAM,EAACc,QAxID,WACxB,GAAa,OAAT+D,IACA7B,EAAOF,QAAX,CACAG,EAAU,CAACH,SAAS,EAAMC,KAAK,6CAHI,IAI9BzB,EAAewO,EAAY3P,MAA3BmB,YACa,YAAduD,EAAKjC,KN7KkB,SAAStB,GACpC,OAAO,IAAIC,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,oBAAqB,CAACxD,gBAC5BK,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SM2K/DkQ,CAAgB1Q,GAAaK,MAAK,SAAAC,GAChC,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhEwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,UAAWC,aAAa,8DAC5D6E,EAAQhL,EAAKH,MACbkL,EAAe,UAEhBlO,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,QN1KX,SAASkP,EAAW3Q,GAC9C,OAAO,IAAIC,SAAQ,SAASC,EAASC,GACjCP,IAAM4D,KAAK,mBAAoB,CAACmN,YAAW3Q,gBACtCK,MAAK,SAAAC,GAAQ,OAAIJ,EAAQI,MAAWC,OAAM,SAAAC,GAAG,OAAIL,EAAOK,SM0K/DoQ,CAAerN,EAAKJ,MAAOnD,GAAaK,MAAK,SAAAC,GAC3C,IAAIoD,EAAOpD,EAASoD,KAChBA,EAAK9B,MACPwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcnG,EAAK9B,SAEhEwG,EAAS,CAACuB,SAAS,EAAMC,UAAW,UAAWC,aAAa,sDAC5D6E,EAAQhL,EAAKH,MACbkL,EAAe,UAEhBlO,OAAM,SAAAC,GACP4H,EAAS,CAACuB,SAAS,EAAMC,UAAW,QAASC,aAAcrJ,OAC1DmD,SAAQ,WACThC,EAAU,CAACH,SAAS,EAAOC,KAAM,UAuGgBiG,SAAUhG,EAAOF,UAAYoO,EAA1E,UACE,cAACW,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,CAAcC,QAAS3J,EAAY,mBAAqB,uBAE1D,eAACwJ,GAAA,EAAD,CAAU5R,QAAM,EAACc,QApFL,WAGpB,IAFA,IAAIqR,EAAU,GACVlI,EAAO7F,SAASgO,iBAAiB,6BAC5BlI,EAAI,EAAGA,EAAID,EAAK3B,SAAU4B,EAAG,CACpC,IACImI,EADMpI,EAAKC,GACAoI,SACf,GAAoB,IAAhBD,EAAK/J,QACiB,KAAtB+J,EAAK,GAAGE,UAAZ,CAEA,IADA,IAAIxP,EAAOsP,EAAK,GAAGE,UACVjF,EAAI,EAAGA,EAAI+E,EAAK/J,SAAUgF,EAAG,CAEpCvK,GAAQ,KADEsP,EAAK/E,GACIiF,UAErBJ,GAAWpP,EAAO,MAbW,IAgB1BvC,EAAasP,EAAY3P,MAAzBK,UACDgS,EAAQ,UAAM3N,EAAKJ,MAAX,YAAoBI,EAAKjC,KAAzB,YAAiCpC,EAAjC,QACRiS,EAAUrO,SAASsO,cAAc,KACrCD,EAAQE,aAAa,OAAQ,iCAAmCC,mBAAmBT,IACnFM,EAAQE,aAAa,WAAYH,GACjCC,EAAQhL,MAAMpI,QAAU,OACxB+E,SAASyO,KAAKC,YAAYL,GAC1BA,EAAQM,QACR3O,SAASyO,KAAKG,YAAYP,IA4DuBzJ,SAAUhG,EAAOF,UAAYoO,EAAtE,UACE,cAACW,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,CAAcC,QAAQ,8BAU5B,cAACL,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,UACE,gCACE,cAACsB,GAAA,EAAD,CAAeC,OAAK,EAApB,6BACCrO,EAAKsO,YAActO,EAAKsO,WAAWrH,KAAI,SAAAvE,GAAI,OAC1C,eAACqK,GAAA,EAAD,CAAU5R,QAAM,EAACgJ,SAAUhG,EAAOF,QACjBhC,QAAS,SAAAC,GAAK,OA3HnB,SAAS4I,GAC/B,GAAa,OAAT9E,IACA7B,EAAOF,QAAX,CACA,IACIyE,EAAO,KAETA,EAH6B,YAAd1C,EAAKjC,KAGb,cAACkK,GAAD,CAAyBxL,YAAaqI,EAAUrE,IAAKtC,OAAQA,EAC5DC,UAAWA,EAAWyG,SAAUA,EAAU7E,KAAMA,EAChDrE,UAAWmJ,EAAUnJ,YAEtB,cAACiJ,GAAD,CAAsBnI,YAAaqI,EAAUrE,IAAKtC,OAAQA,EACzDC,UAAWA,EAAWyG,SAAUA,EAAU7E,KAAMA,EAChDrE,UAAWmJ,EAAUnJ,YAE/BuP,EAAexI,IA6G8B6L,CAAgB7L,IADnD,UAEE,cAACsK,GAAA,EAAD,UAAc,cAAC,KAAD,MACd,cAACC,GAAA,EAAD,CAAcC,QAASxK,EAAK/G,cAFvB+G,EAAKjC,gBAYpB,uBAAM9E,UAAWJ,EAAQhB,QAAzB,UACE,qBAAKoB,UAAWJ,EAAQkP,eACxB,cAAC7L,EAAA,EAAD,CAAWE,SAAS,KAAKnD,UAAWJ,EAAQkH,UAA5C,UACIwI,GACF,yCAAYjL,EAAKX,SAAjB,IAA2B,uBAA3B,2BAAwD,uBAAxD,8CAGD4L,KAMH,cAACuD,GAAA,EAAD,CAAUC,aAAc,CAACC,SAAU,SAAUC,WAAY,QACvD5D,KAAMK,EAAMhF,QAASwI,iBAAkB,IAAMC,QAASvD,EADxD,SAEI,cAACpK,EAAA,EAAD,CAAOC,SAAUiK,EAAM/E,UACvBjF,OACE,cAACC,EAAA,EAAD,CAAYC,aAAW,QAAQhH,MAAM,UACnCiH,KAAK,QAAQtF,QAASqP,EADxB,SAEE,cAAC,IAAD,CAAW9J,SAAS,cAJxB,SAOClC,OAAO8L,EAAM9E,uBClbT,WAA0B,gCCI1B,SAASwI,KACpB,OACI,sBAAKrQ,GAAG,UAAUmE,MAAO,CAACpI,QAAS,OAAQC,WAAY,SAAUS,OAAQ,SAAzE,UACI,8BACI,qBAAKU,IAAKmT,GAAOjT,IAAI,WAAW8G,MAAO,CAAC3H,MAAO,YAEnD,sBAAK2H,MAAO,CAACvI,UAAW,UAAxB,UACI,6EACA,cAAC0B,EAAA,EAAD,CAAQC,QAAQ,YAAY1B,MAAM,UAAU0U,KAAK,IAAjD,wB,WCFVC,GAAc,SAAC,GAAsC,IAAzBC,EAAwB,EAApCrQ,UAA0BsQ,EAAU,6BACxD,OACA,cAAC,IAAD,2BAAWA,GAAX,IAAiBC,OACf,SAAS9T,GACP,IAAI+T,EAAM,2BAAO/T,GAAU6T,GAC3B,OAA0C,MAAjC5O,aAAawL,QAAQ,SAC5B,cAACmD,EAAD,eAAeG,IACf,cAAC,IAAD,CAAUlT,GAAI,CAACmT,SAAU,aAAcC,MAAO,CAACC,KAAMlU,EAAMmU,kBAO7DC,GAAe,SAAC,GAAsC,IAAzBR,EAAwB,EAApCrQ,UAA0BsQ,EAAU,6BACzD,OACA,cAAC,IAAD,2BAAWA,GAAX,IAAiBC,OACf,SAAS9T,GACP,IAAI+T,EAAM,2BAAO/T,GAAU6T,GAC3B,OAA0C,MAAjC5O,aAAawL,QAAQ,SAC5B,cAACmD,EAAD,eAAeG,IACf,cAAC,IAAD,CAAUlT,GAAI,CAACmT,SAAU,SAAUC,MAAO,CAACC,KAAMlU,EAAMmU,kBAyBhDE,OAlBf,WACE,OACE,qBAAKlR,GAAG,UAAR,SACE,cAAC,aAAD,CAAYmR,SAAS,IAArB,SACE,eAAC,IAAD,WACE,cAAC,GAAD,CAAaC,OAAK,EAACC,KAAK,IAAIjR,UAAWxD,IACvC,cAAC,GAAD,CAAawU,OAAK,EAACC,KAAK,SAASjR,UAAWhB,EAAUC,UAAU,IAChE,cAAC,GAAD,CAAa+R,OAAK,EAACC,KAAK,YAAYjR,UAAWhB,EAAUC,UAAU,IACnE,cAAC,GAAD,CAAa+R,OAAK,EAACC,KAAK,mBAAmBjR,UAAWgE,EAAgBC,OAAO,IAC7E,cAAC,GAAD,CAAa+M,OAAK,EAACC,KAAK,2BAA2BjR,UAAWgE,EAAgBC,OAAO,IACrF,cAAC,GAAD,CAAc+M,OAAK,EAACC,KAAK,aAAajR,UAAWiM,KACjD,cAAC,IAAD,CAAOgF,KAAK,IAAIjR,UAAWiQ,aC5CrCiB,IAASX,OACP,cAAC,IAAMY,SAAP,UACE,cAAC,GAAD,MAEFzQ,SAASC,eAAe,W","file":"static/js/main.9a93cc93.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/brand.2d6d0d51.png\";","import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport {Redirect} from 'react-router-dom'; \nimport Button from '@material-ui/core/Button';\nimport BrandIcon from '../../resources/images/brand.png';\nconst useStyles = makeStyles(theme => ({\n    homepage: {\n        userSelect: 'none',\n    },\n    header: {\n        textAlign: 'center',\n        color: '#2977c9',\n    },\n    content: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    leftFlexBox: {\n        flex: 0.5,\n        textAlign: \"center\",\n        marginRight: \"10px\",\n    },\n    rightFlexBox: {\n        flex: 0.5,\n        textAlign: \"left\",\n        marginLeft: \"10px\",\n    },\n    brandImage:{\n        borderRadius: '50%',\n        width: '200px',\n        height: '200px'\n    },\n    button: {\n        margin: 'auto 10px',\n    },\n}));\n\nfunction Homepage(props) {\n    const classes = useStyles();\n    const [redirect, setRedirect] = useState(null);\n    if (redirect)   return redirect;\n    return (\n        <div className={classes.homepage}>\n            <h1 className={classes.header}>Attendance Management System</h1>\n            <div className={classes.content}>\n                <div className={classes.leftFlexBox}>\n                    <img src={BrandIcon} alt=\"our-brand\" className={classes.brandImage}/>\n                </div>\n                <div className={classes.rightFlexBox}>\n                    <p>\n                        - One place to manage all your attendances! <br/>\n                        - Create and delete classrooms on-demand! <br/>\n                        - Collect attendance on-demand! <br/>\n                        - Maintain your attendance record with ease! <br/>\n                        - Export attendance-statistics of your classroom! <br/>\n                        - and many more features for free!\n                    </p>\n                    <p>\n                        Sounds exciting? <br/>\n                        Click on the button below to get started!\n                    </p>\n                    <Button className={classes.button} variant=\"contained\" \n                        color=\"primary\" onClick={event => setRedirect(<Redirect to=\"/login\" />)}>Sign In</Button>\n                    OR\n                    <Button className={classes.button} variant=\"contained\" \n                        color=\"primary\" onClick={event => setRedirect(<Redirect to=\"/register\" />)}>Sign Up</Button>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default Homepage;","import axios from 'axios';\nimport CryptoJS from 'crypto-js';\nconst SECRET='e3483b2f6bc28d1f6c5253b1c8c860cbb7562341e75059c45108afdbe0fa92d0b152dc40ded35908921aa2e954f50830f157090b5a36319edef6901469f1afeb'\naxios.defaults.baseURL = 'https://attendance-management-server.herokuapp.com';\n\n// registers the user\nexport const registerUser = function(user) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/register\", {...user})\n        .then(response => resolve(response)).catch(err => reject(err));\n    });\n};\n\n// login the user\nexport const loginUser = function(user) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/login\", {...user})\n        .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// logout the user\nexport const logoutUser = function(userId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/logout\", {userId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// forgot password\nexport const forgotPassword = function(email, role) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/forgot-password\", {email, role})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// reset password\nexport const resetPassword = function(tokenId, password) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/reset-password\", {tokenId, password})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// reads the details of the user with given Id\nexport const readUser = function(userId) {\n    return new Promise(function(resolve, reject){\n        axios.get(\"/user/\" + userId)\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// fetches the details of the given classroom\nexport const readClassroom = function(classroomId) {\n    return new Promise(function(resolve, reject){\n        axios.get(\"/classroom/\" + classroomId)\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// create classroom\nexport const createClassroom = function(userId, className) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/create-classroom\", {userId, className})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// delete classroom\nexport const deleteClassroom = function(classroomId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/delete-classroom\", {classroomId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// join classroom\nexport const joinClassroom = function(useremail, classCode) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/join-classroom\", {useremail, classCode})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// leave classroom\nexport const leaveClassroom = function(userEmail, classroomId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/leave-classroom\", {userEmail, classroomId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// collect attendance\nexport const collectAttendance = function(classroomId, attendanceId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/collect-attendance\", {classroomId, attendanceId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n// stops collecting attendance\nexport const stopCollectingAttendance = function(classroomId, attendanceId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/stop-collecting\", {classroomId, attendanceId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// mark-attendance\nexport const markAttendance = function(userId, classroomId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/mark-attendance\", {userId, classroomId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n\n// attendance record\nexport const attendanceRecord = function(classroomId) {\n    return new Promise(function(resolve, reject){\n        axios.get(\"/\" + classroomId)\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n\n// encrypts the given jsonObject\nexport const encrypt = function(jsonObject) {\n    return CryptoJS.AES.encrypt(JSON.stringify(jsonObject), SECRET);\n}\n// decrypt and parses the given cipherText\nexport const decrypt = function(cipherText) {\n    let bytes = CryptoJS.AES.decrypt(cipherText, SECRET);\n    return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n}\n","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport {HashLink as Link} from 'react-router-hash-link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BrandIcon from '../../resources/images/brand.png';\nimport LoadingOverlay from 'react-loading-overlay';\nimport Alert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {Redirect} from 'react-router-dom';\nimport {registerUser, loginUser, encrypt} from '../../DAO/DataAccessObject';\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\n\n\n// functional component\nexport default function AuthForm(props) {\n  const {register} = props;    \n  const classes = useStyles();\n  const [role, setRole] = useState('student');\n  const [loader, setLoader] = useState({loading: false, text : ''});\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [redirect, setRedirect] = useState(null);\n\n  \n  // returns true if email is valid; false otherwise\n  const isValidEmail = function(email){\n    const emailPattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return emailPattern.test(String(email).toLowerCase());\n  }\n\n\n  // handler for form-submit-operation\n  const onFormSubmit = function(event){\n    // read properties\n    event.preventDefault();\n    if (loader.loading) return;\n\n    // process user's input\n    let username = null;\n    if (register) username = String(document.getElementById('username').value).toLowerCase().trim();\n    let email = String(document.getElementById('email').value).toLowerCase().trim();\n    let password = String(document.getElementById('password').value).toLowerCase().trim();\n\n    // validate fields\n    if (username != null && username === '') {\n        setError('Please provide a valid username!');\n        return;\n    }\n    if(!isValidEmail(email)) {\n        setError('Please provide a valid email!');\n        return;\n    }\n    if (password === '') {\n        setError('Please provide a valid password!');\n        return;\n    }\n    if (role !== 'student' && role !== 'teacher') {\n        setError('Please select your role!');\n        return;\n    }\n\n    // make server request\n    if (register) {\n        // register user\n        setLoader({loading: true, text: `Please wait! I'm setting up your account`});        \n        let user = {username, email, password, role};\n        registerUser(user).then(response => {\n            let data = response.data;\n            if (data.error) setError(data.error);\n            else            setSuccess(`Your registration was successful!`);\n        }).catch(err => {\n            setError(err);\n        }).finally(()=>{\n            setLoader({loading: false, text: ``});\n        });\n    } else {\n        // login user\n        setLoader({loading: true, text: `Please wait! I'm validating your credentials.`});\n        let user = {email, password, role};\n        loginUser(user).then(response => {\n            let data = response.data;\n            if (data.error) {\n                setError(data.error);\n            } else {\n                localStorage.setItem('_auth', encrypt(data.user._id));\n                setSuccess(`You are successfully logged in!`);\n                setRedirect(<Redirect to=\"/dashboard\" />)\n            }\n        }).catch(err => {\n            setError(err);\n        }).finally(()=>{\n            setLoader({loading: false, text: ``});\n        });\n    }\n\n\n  };\n\n  // check if redirection is available\n  if (redirect) return redirect;\n\n  // return the content   \n  return (\n    <div id=\"authForm\">\n    <LoadingOverlay active={loader.loading} spinner text={loader.text}>\n        <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={BrandIcon} />\n            <Typography component=\"h1\" variant=\"h5\">\n            {register ? \"Sign Up\" : \"Sign In\"}\n            </Typography>\n            <form className={classes.form} noValidate onSubmit={onFormSubmit}>\n                {/* alerts */}\n                <Collapse in={Boolean(success || error)}>\n                    {success && <Alert severity=\"success\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(success)}</Alert>}\n                    {error && <Alert severity=\"error\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(error)}</Alert>}\n                </Collapse>\n\n                {/* input fields */}\n                {register && <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    id=\"username\" label=\"Username\" name=\"username\" autoComplete=\"text\"\n                    autoFocus />}\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    id=\"email\" label=\"Email Address\" name=\"email\"\n                    autoComplete=\"email\" autoFocus/>\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    name=\"password\" label=\"Password\" type=\"password\"\n                    id=\"password\" autoComplete=\"current-password\"/>                \n                <FormControl component=\"fieldset\">\n                <RadioGroup row aria-label=\"role\" name=\"role\" value={role} onChange={event => setRole(event.target.value)}>\n                    <FormControlLabel value=\"student\" control={<Radio />} label=\"Student\" />\n                    <FormControlLabel value=\"teacher\" control={<Radio />} label=\"Teacher\" />\n                </RadioGroup>\n                </FormControl>\n                <Button id=\"submitButton\" type=\"submit\" fullWidth\n                    variant=\"contained\" color=\"primary\"\n                    className={classes.submit}>\n                    {register ? \"Sign Up\" : \"Sign In\"}\n                </Button>\n                <Grid container>\n                    <Grid item xs>\n                        {!register && <Link to=\"/forgot-password\" variant=\"body2\">Forgot password?</Link>}\n                    </Grid>\n                    <Grid item>\n                        <Link to={register ? \"/login\" : \"/register\"} variant=\"body2\">\n                            {register ? \"Already have an account? Sign In\" : \"Don't have an account? Sign Up\"}\n                        </Link>\n                    </Grid>\n                </Grid>\n                <d style={{\"height\": \"10px\"}} />\n            </form>\n        </div>\n        </Container>  \n    </LoadingOverlay>        \n    </div>\n  );\n}","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BrandIcon from '../../resources/images/brand.png';\nimport LoadingOverlay from 'react-loading-overlay';\nimport Alert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {HashLink as Link} from 'react-router-hash-link';\nimport Grid from '@material-ui/core/Grid';\nimport {forgotPassword, resetPassword} from '../../DAO/DataAccessObject';\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\n\n\n// functional component\nexport default function ForgotPassword(props) {\n  const {reset} = props;\n  const classes = useStyles();\n  const [role, setRole] = useState('student');\n  const [loader, setLoader] = useState({loading: false, text : ''});\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  \n  // returns true if email is valid; false otherwise\n  const isValidEmail = function(email){\n    const emailPattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return emailPattern.test(String(email).toLowerCase());\n  };\n\n  // handles the form submission\n  const onFormSubmit = function(event) {\n    event.preventDefault();\n    if (loader.loading) return;\n    if (reset) {\n      let password = String(document.getElementById('password').value).trim();\n      if (password === '') {\n        setError(`Please provide a valid password`);\n        return;\n      }\n      let {tokenId} = props.match.params;\n      // make server request\n      setLoader({loading: true, text: `Please wait! I'm processing your request!`});\n      resetPassword(tokenId, password).then(response => {\n        let {data} = response;\n        let {error} = data;\n        if (error) {\n          setError(error);\n        } else {\n          setSuccess(`Your password was successfully updated!`);\n        }\n      }).catch(err => {\n        setError(err);\n      }).finally(()=>{\n        setLoader({loading: false, text: ''});\n      });\n    } else {\n      let email = document.getElementById('email').value;\n      if (!isValidEmail(email)) {\n          setError('Please provide a valid email!');\n          return;\n      }\n      // make server request\n      setLoader({loading: true, text: `Please wait! I'm processing your request!`});\n      forgotPassword(email, role).then(response => {\n          let {data} = response;\n          let {error} = data;\n          if (error)  setError(error);\n          else        setSuccess(`An email has been sent to your email-address!`);\n      }).catch(err => {\n          setError(err);\n      }).finally(()=>{\n          setLoader({loading: false, text: ''});\n      });\n    }\n  };\n\n\n  // return the content\n  return (\n    <div id=\"forgotPasswordForm\">\n    <LoadingOverlay active={loader.loading} spinner text={loader.text}>\n        <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={BrandIcon} />\n            <Typography component=\"h1\" variant=\"h5\">\n              {reset ? 'Reset Password' : 'Forgot Password'}\n            </Typography>\n            <form className={classes.form} noValidate onSubmit={onFormSubmit}>\n                {/* alerts */}\n                <Collapse in={Boolean(success || error)}>\n                    {success && <Alert severity=\"success\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(success)}</Alert>}\n                    {error && <Alert severity=\"error\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(error)}</Alert>}\n                </Collapse>\n\n                {/* input fields */}\n                {reset && \n                  <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                      id=\"password\" label=\"New Password\" name=\"password\" type=\"password\"\n                      autoComplete=\"password\" autoFocus/>}\n                {!reset && \n                  <div>\n                    <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                        id=\"email\" label=\"Email Address\" name=\"email\"\n                        autoComplete=\"email\" autoFocus/>                \n                    <FormControl component=\"fieldset\">\n                    <RadioGroup row aria-label=\"role\" name=\"role\" value={role} onChange={event => setRole(event.target.value)}>\n                        <FormControlLabel value=\"student\" control={<Radio />} label=\"Student\" />\n                        <FormControlLabel value=\"teacher\" control={<Radio />} label=\"Teacher\" />\n                    </RadioGroup>\n                    </FormControl>\n                  </div>}\n                <Button id=\"submitButton\" type=\"submit\" fullWidth\n                    variant=\"contained\" color=\"primary\"\n                    className={classes.submit}>\n                    Submit\n                </Button>\n                {!reset && \n                  <Grid container>\n                    <Grid item xs>\n                        <Link to=\"/login\" variant=\"body2\">Go to Sign In</Link>\n                    </Grid>\n                    <Grid item xs>\n                        <Link to=\"/login\" variant=\"body2\">Go to Sign Up</Link>\n                    </Grid>\n                  </Grid>}\n            </form>\n        </div>\n        </Container>  \n    </LoadingOverlay>        \n    </div>\n  );\n}","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles} from '@material-ui/core/styles';\nimport BrandIcon from '../../resources/images/brand.png';\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\n\n\n// functional component\nexport default function AddClassroom(props) {\n  const {showSnackBar, onAddClassroom, role} = props;\n  const classes = useStyles();\n  let isTeacher = (role === 'teacher');\n  let fieldName = (isTeacher ? 'classname': 'classcode');\n\n  // handler for form-submit-operation\n  const onFormSubmit = function(event){\n    // read properties\n    event.preventDefault();\n    let className = String(document.getElementById(fieldName).value).trim();\n    if (className.length === 0){\n        showSnackBar('error', 'Please provide a valid classname');\n        return;\n    }\n    // make server request\n    onAddClassroom(className);\n  };\n\n  return (\n    <div id=\"addClassroomForm\">\n        <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={BrandIcon} />\n            <Typography component=\"h1\" variant=\"h5\">\n              {isTeacher ? \"Create\" : \"Join\"} Classroom\n            </Typography>\n            <form className={classes.form} noValidate \n                onSubmit={onFormSubmit} autoComplete=\"off\">\n                {/* input fields */}\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    id={fieldName} label={fieldName} name={fieldName} autoComplete=\"off\"\n                    autoFocus />\n                <Button id=\"submitButton\" type=\"submit\" fullWidth\n                    variant=\"contained\" color=\"primary\"\n                    className={classes.submit}>\n                    {isTeacher ? \"Create\" : \"Join\"}\n                </Button>\n            </form>\n        </div>\n        </Container>  \n    </div>\n  );\n}","import React, {useState, useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport Badge from '@material-ui/core/Badge';\nimport {readClassroom, markAttendance} from '../../DAO/DataAccessObject';\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n}));\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const { count, page, rowsPerPage, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"next page\"\n      >\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"last page\"\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  );\n}\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n};\n\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  classroomPage :{\n    padding: \"10px\", \n    width: \"80%\", \n    margin: \"10px auto\"\n  },\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n  table: {\n    minWidth: 500,\n  },\n}));\n\n\n// functional component for classroomPage\nexport default function StudentClassroomPage(props){\n  const {user, classroomId, setLoader, setSnack} = props;\n  const classes = useStyles();\n  const [classroom, setClassroom] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [tempMessage, setTempMessage] = useState('Loading details of the classroom!');\n\n  // generate stats for the user\n  let rows = [];\n  for(let i = 0; i < records.length; ++i) {\n    let rec = records[i];\n    let key = rec.attendanceId;\n    let value = null;\n    if (rec.students.indexOf(user.email) === -1) {\n      value = <Badge color=\"secondary\" badgeContent={\"Absent\"}/>\n    } else {\n      value = <Badge color=\"primary\" badgeContent={\"Present\"}/>\n    }\n    rows.push({key, value});\n  }\n  \n\n  // for table\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // invokes whenever classroomName changes!\n  useEffect(()=>{\n    setLoader({loading: true, text: `Please wait! I'm fetching details for this classroom`});\n    readClassroom(classroomId).then(response=>{\n      let data = response.data;\n      if (data.error) {\n        setTempMessage('Failed to load details of this classroom!');\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ``});\n    });\n  }, [classroomId, setLoader, setSnack]);\n\n  // makes a request to mark attendance\n  const onMarkAttendance = function() {\n    setLoader({loading: true, text: `Please wait! I'm marking your attendance!`});\n    markAttendance(user._id, classroom._id).then(response => {\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ``});\n    });\n  };\n\n  let toMark = false;\n  for (let i = 0; i < records.length; ++i)\n    if (records[i].attendanceId === classroom.collectingFor){\n      toMark = (records[i].students.indexOf(user.email) === -1);\n      break;\n    }\n\n\n  // if classroom is not loaded then show error message\n  if (classroom === null) {\n    return (\n      <div id=\"classroomPage\" className={classes.classroomPage}>\n        {tempMessage}\n      </div>\n    );\n  }\n\n  // render the actual component\n  return (\n    <div id=\"classroomPage\" className={classes.classroomPage}>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Name: </strong>{classroom.className}</div>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Code: </strong>{classroom.code}</div>\n\n        {/* display form or stop button */}\n        {classroom.collectingFor && toMark &&\n        <Button type=\"submit\" fullWidth\n          variant=\"contained\" color=\"primary\"\n          className={classes.submit} onClick={onMarkAttendance}>\n          Mark attedance for {classroom.collectingFor}\n        </Button>\n      }\n\n\n      {/* displays the records */}\n      <div style={{textAlign: 'center'}}><br/>Your attendance record for this classroom!</div>\n      <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\" id=\"attendanceRecordTable\">\n        <TableBody>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow key={row.key}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.key}\n              </TableCell>\n              <TableCell align=\"left\">\n                {row.value}\n              </TableCell>\n            </TableRow>\n          ))}\n\n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <TableContainer>\n      <Table>\n      <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true,\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n\n    </div>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField'\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport {readClassroom, collectAttendance, \n          stopCollectingAttendance} from '../../DAO/DataAccessObject';\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n}));\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const { count, page, rowsPerPage, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"next page\"\n      >\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"last page\"\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  );\n}\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n};\n          \n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  classroomPage :{\n    padding: \"10px\", \n    width: \"80%\", \n    margin: \"10px auto\"\n  },\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n  table: {\n    minWidth: 500,\n  },\n}));\n\n\n\n// parses the records for the table\nfunction parseRecords(classroom, records) {\n  let presentStyle = {\n    backgroundColor: \"#cff4fc\", \n    color: '#055160', \n    padding: '5px',\n    borderRadius: '5px'\n  };\n  let absentStyle = {\n    backgroundColor: \"#f8d7da\", \n    color: '#842029', \n    padding: '5px',\n    borderRadius: '5px'\n  };\n  let rows = [];\n  let columns = ['studentId'];\n  for (let i = 0; i < records.length; ++i)\n    columns.push(records[i].attendanceId);\n  let headerRow = [];\n  for (let i = 0; i < columns.length; ++i)\n    headerRow.push(<TableCell align=\"left\" key={`head${i}`}><strong>{columns[i].toUpperCase()}</strong></TableCell>);\n  rows.push({key: `row_0`, value: headerRow});\n  if (classroom === null) return rows;\n  let students = classroom.studentOnce;\n  for (let i = 0; i < students.length; ++i) {\n    let studEmail = students[i];\n    let row = [];\n    row.push(<TableCell align=\"left\" key={`cel_${i}_0`}>{studEmail}</TableCell>)\n    for (let j = 0; j< records.length; ++j) {\n      let rec = records[j];\n      let attendees = rec.students;\n      let attended = attendees.indexOf(studEmail) !== -1;\n      let item = null;\n      if (attended) {\n        item = <span style={presentStyle}>Present</span>\n      } else {\n        // item = <Badge color=\"secondary\" badgeContent={\"Absent\"} />;\n        item = <span style={absentStyle}>Absent</span>\n      }\n      row.push(<TableCell align=\"left\" key={`cell_${i}_${j + 1}`}>{item}</TableCell>);\n    }\n    rows.push({key: `row_${i+1}`, value: row});\n  }\n  return rows;\n}\n\n\n// functional component for classroomPage\nexport default function InstructorClassroomPage(props){\n  const {classroomId, loader, setLoader, setSnack} = props;\n  const classes = useStyles();\n  const [classroom, setClassroom] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [tempMessage, setTempMessage] = useState('Loading details of the classroom!');\n\n  let rows = parseRecords(classroom, records);\n  // for table\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n\n  // invokes whenever classroomName changes!\n  useEffect(()=>{\n    setLoader({loading: true, text: `Please wait! I'm fetching details for this classroom`});\n    readClassroom(classroomId).then(response=>{\n      let data = response.data;\n      if (data.error) {\n        setTempMessage('Failed to load details of this classroom!');\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ``});\n    });\n  }, [classroomId, setLoader, setSnack]);\n\n\n\n  // starts collecting attendance\n  const onCollectAttendance = function(event) {\n    event.preventDefault();\n    if (loader.loading) return;\n    let attendanceId = String(document.getElementById('attendanceId').value).trim();\n    if (attendanceId === '') {\n      setSnack({visible: true, snackType: 'error', snackMessage: 'Please provide a valid attendanceId'});\n      return;\n    }\n\n    // make server request here\n    setLoader({loading: true, text: `Please wait! I'm processing your request`});\n    collectAttendance(classroom._id, attendanceId).then(response => {\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ''})\n    });\n  };\n\n  // stops collecting attendance\n  const onStopCollectingAttendance = function(event) {\n    if (loader.loading) return;\n    let classroomId = classroom._id;\n    let attendanceId = classroom.collectingFor;\n    // make server request here\n    setLoader({loading: true, text: `Please wait! I'm processing your request`});\n    stopCollectingAttendance(classroomId, attendanceId).then(response => {\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ''})\n    });\n  };\n\n\n  // if classroom is not loaded then show error message\n  if (classroom === null) {\n    return (\n      <div id=\"classroomPage\" className={classes.classroomPage}>\n        {tempMessage}\n      </div>\n    );\n  }\n\n  return (\n    <div id=\"classroomPage\" className={classes.classroomPage}>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Name: </strong>{classroom.className}</div>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Code: </strong>{classroom.code}</div>\n\n        {/* display form or stop button */}\n        {classroom.collectingFor ?\n        <Button type=\"submit\" fullWidth\n          variant=\"contained\" color=\"secondary\"\n          className={classes.submit} onClick={onStopCollectingAttendance}>\n          Stop collecting attedance for {classroom.collectingFor}\n        </Button>\n        :\n        <form className={classes.form} noValidate onSubmit={onCollectAttendance}>\n            {/* input fields */}\n            <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                id=\"attendanceId\" label=\"Attendance ID\" \n                name=\"attendanceId\" autoComplete=\"text\"\n                autoFocus />\n            <Button id=\"submitButton\" type=\"submit\" fullWidth\n                variant=\"contained\" color=\"primary\"\n                className={classes.submit}>\n                Collect attendance\n            </Button>\n        </form>    \n      }\n\n\n      {/* displays the records */}\n      <div style={{textAlign: 'center'}}><br/>Your attendance record for this classroom!</div>\n      <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\" id=\"attendanceRecordTable\">\n        <TableBody>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow key={row.key}>\n              {row.value}\n            </TableRow>\n          ))}\n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <TableContainer>\n      <Table>\n        <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true,\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n    </div>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport Alert from '@material-ui/lab/Alert';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport LoadingOverlay from 'react-loading-overlay';\nimport {Redirect} from 'react-router-dom';\nimport AddClassroom from './AddClassroom';\nimport StudentClassroomPage from './StudentClassroomPage';\nimport InstructorClassroomPage from './InstructorClassroomPage';\nimport {readUser, logoutUser, decrypt, \n          createClassroom, deleteClassroom, \n          joinClassroom, leaveClassroom} from '../../DAO/DataAccessObject';\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 240,\n  },\n}));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// functional component\nexport default function Dashboard() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(true);\n  const handleDrawerOpen = () => { setOpen(true); };\n  const handleDrawerClose = () => { setOpen(false); };\n  const [loader, setLoader] = useState({loading: false, text: ''})\n  const [currentItem, setCurrentItem] = useState(null);\n  const [user, setUser] = useState(null);\n  const [redirect, setRedirect] = useState(null);\n  const [snack, setSnack] = useState({visible: false, snackType: 'success', snackMessage: ''});\n\n\n  // snack-management\n  const showSnackBar = function(type, message) {\n    setSnack({visible: true, snackType: type, snackMessage: message});\n  }\n  const hideSnackBar = function(event) {\n    setSnack({visible: false, snackType: 'success', snackMessage: ''});\n  }\n\n  // componentDidMount\n  useEffect(function(){\n    let item = localStorage.getItem('_auth');\n    let userId = decrypt(item);\n    readUser(userId).then(response => {\n      let data = response.data;\n      if (data.error) {\n        console.log(data.error);\n        setSnack({visible: true, snackType: 'error', })\n        localStorage.removeItem('_auth');\n        setRedirect(<Redirect to=\"/login\" />)\n      } else {\n        setUser(data.user);        \n      }\n    }).catch(err => {\n      console.log(err);\n      localStorage.removeItem('_auth');\n      setRedirect(<Redirect to=\"/login\" />)\n    });\n  }, []);\n\n  // for logout\n  const onLogout = function(event){\n    if (user == null) return;\n    let userId = user._id;\n    logoutUser(userId).then((response)=>{\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        localStorage.removeItem('_auth');\n        setRedirect(<Redirect to=\"/login\" />)\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    });\n  };\n\n\n\n  // for add-classroom!\n  const addClassroom = function(event) {\n    let item = <AddClassroom showSnackBar={showSnackBar} \n                    onAddClassroom={onAddClassroom} \n                    role={user != null ? user.role : 'teacher'}/>\n    setCurrentItem(item);\n  }\n  const onAddClassroom = function(value) {\n    if (user == null)   return;\n    if (loader.loading) return;\n    let role = user.role;\n    let isTeacher = (role === 'teacher');\n    setLoader({loading: true, \n      text: `${isTeacher ? 'Creating' : 'Joininig'} classroom`});\n    if (isTeacher) {\n      createClassroom(user._id, value).then(response => {\n        let data = response.data;\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: 'Your classroom was successfully created!'});\n          setUser(data.user);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''});\n      });\n    } else {\n      joinClassroom(user.email, value).then(response => {\n        let data = response.data;\n        console.log(data);\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: 'Your were successfully added to the classroom!'});\n          setUser(data.user);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''});\n      });\n    }\n  }\n\n\n\n  // for delete-classroom\n  const onDeleteClassroom = function() {\n    if (user === null)  return;\n    if (loader.loading) return;\n    setLoader({loading: true, text: `Please wait! I'm processing your request`});\n    let {classroomId} = currentItem.props;\n    if (user.role === 'teacher') {\n      deleteClassroom(classroomId).then(response => {\n        let data = response.data;\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: `Your classroom with all records was successfully deleted!`});\n          setUser(data.user);\n          setCurrentItem(null);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''})\n      });  \n    } else {\n      leaveClassroom(user.email, classroomId).then(response => {\n        let data = response.data;\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: `You were successfully removed from the classroom!`});\n          setUser(data.user);\n          setCurrentItem(null);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''})\n      });  \n    }\n  };\n\n  // for classroom-page\n  const onViewClassroom = function(classroom) {\n    if (user === null)  return;\n    if (loader.loading) return;\n    let isTeacher = (user.role === 'teacher');\n    let item = null;\n    if (isTeacher) {\n      item = <InstructorClassroomPage classroomId={classroom._id} loader={loader} \n              setLoader={setLoader} setSnack={setSnack} user={user}\n              className={classroom.className}/>\n    } else {\n      item = <StudentClassroomPage classroomId={classroom._id} loader={loader} \n              setLoader={setLoader} setSnack={setSnack} user={user} \n              className={classroom.className}/>\n    }\n    setCurrentItem(item);\n  }\n\n\n  // on export stats\n  const onExportStats = function() {\n    let csvText = \"\";\n    let rows = document.querySelectorAll('#attendanceRecordTable tr');\n    for (let i = 0; i < rows.length; ++i) {\n      let row = rows[i];\n      let cols = row.children;\n      if (cols.length === 0)  continue;\n      if (cols[0].innerText === '') continue;\n      let text = cols[0].innerText;\n      for (let j = 1; j < cols.length; ++j) {\n        let col = cols[j];\n        text += \", \" + col.innerText;\n      }\n      csvText += text + \"\\n\";\n    }\n    // download the file as csvText\n    let {className} = currentItem.props;\n    let filename = `${user.email}-${user.role}-${className}.csv`;\n    let element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(csvText));\n    element.setAttribute('download', filename);  \n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  // check if course-page is visible(decides export and delete  button visibility)\n  let isClassPageVisible = (currentItem != null && \n    (currentItem.type === InstructorClassroomPage || \n      currentItem.type === StudentClassroomPage));\n\n  if (redirect)       return redirect;\n  if (user === null)  return   <div>Loading your details...</div>\n  let isTeacher = (user.role === 'teacher');\n\n\n  return (\n    <LoadingOverlay active={loader.loading} spinner text={loader.text}>\n    <div className={classes.root}>\n      <CssBaseline />\n\n      {/* topbar */}\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton edge=\"start\" color=\"inherit\" \n            aria-label=\"open drawer\" onClick={handleDrawerOpen} \n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}>\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            {user.username + \"(\" + user.role + \")\"}\n          </Typography>\n          <IconButton color=\"inherit\" onClick={onLogout}>\n            <ExitToAppIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n\n\n      {/* sidebar */}\n      <Drawer variant=\"permanent\" classes={{paper: clsx(classes.drawerPaper, !open \n                    && classes.drawerPaperClose),}} open={open}>\n        <div className={classes.toolbarIcon}>\n            Attendance Management\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <div>\n            <ListItem button onClick={addClassroom} disabled={loader.loading}>\n              <ListItemIcon>\n                <AddBoxIcon />\n              </ListItemIcon>\n              <ListItemText primary={(isTeacher ? \"New classroom\" : \"Join classroom\")}/>\n            </ListItem>\n            <ListItem button onClick={onDeleteClassroom} disabled={loader.loading || !isClassPageVisible}>\n              <ListItemIcon>\n                <DeleteIcon />\n              </ListItemIcon>\n              <ListItemText primary={isTeacher ? \"Delete Classroom\" : \"Leave Classroom\"} />\n            </ListItem>\n            <ListItem button onClick={onExportStats} disabled={loader.loading || !isClassPageVisible}>\n              <ListItemIcon>\n                <GetAppIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Export Statistics\" />\n            </ListItem>\n            {/* <ListItem button disabled={loader.loading}>\n              <ListItemIcon>\n                <AccountBoxIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Manage Profile\" />\n            </ListItem> */}\n          </div>          \n        </List>\n        <Divider />\n        <List>\n          <div>\n            <ListSubheader inset>Your classrooms</ListSubheader>\n            {user.classrooms && user.classrooms.map(item => \n              <ListItem button disabled={loader.loading} \n                key={item._id} onClick={event => onViewClassroom(item)}>\n                <ListItemIcon><AssignmentIcon /></ListItemIcon>\n                <ListItemText primary={item.className}/>\n              </ListItem>            \n            )}\n          </div>\n        </List>\n      </Drawer>\n\n\n\n      {/* central content */}\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          {!currentItem && \n          <p>Welcome {user.username}!<br/>We are glad to see here.<br/>\n           Click on the left menu to get started!</p>}\n        </Container>\n        {currentItem}\n      </main>\n\n\n\n      {/* snackbar */}\n      <Snackbar anchorOrigin={{vertical: 'bottom', horizontal: 'left'}}\n        open={snack.visible} autoHideDuration={6000} onClose={hideSnackBar}>\n          <Alert severity={snack.snackType}\n          action={\n            <IconButton aria-label=\"close\" color=\"inherit\"\n              size=\"small\" onClick={hideSnackBar} >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }>\n          {String(snack.snackMessage)}\n        </Alert>\n      </Snackbar>\n\n    </div>\n    </LoadingOverlay>\n  );\n}","export default __webpack_public_path__ + \"static/media/404.fa1a6217.gif\";","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Image from '../../resources/images/404.gif';\n// functional component\nexport default function NotFound() {\n    return (\n        <div id=\"page404\" style={{display: 'flex', alignItems: 'center', height: '100vh'}}>\n            <div>\n                <img src={Image} alt=\"page-404\" style={{width: '100%'}}/>\n            </div>\n            <div style={{textAlign: 'center'}}>\n                <p>The page you are looking for does not exist!</p>\n                <Button variant=\"contained\" color=\"primary\" href=\"/\">Home</Button>\n            </div> \n        </div>\n    );\n}","import React from 'react';\nimport {HashRouter, Route, Switch, Redirect} from 'react-router-dom';\nimport Homepage from './Components/Homepage/Homepage';\nimport AuthForm from './Components/AuthForm/AuthForm';\nimport ForgotPassword from './Components/ForgotPassword/ForgotPassword';\nimport Dashboard from './Components/Dashboard/Dashboard';\nimport NotFound from './Components/NotFound/NotFound';\nimport './App.css';\n\n// public route - only available to non-authenticated users\nconst PublicRoute = ({component : Component, ...rest}) => {\n  return (\n  <Route {...rest} render={\n    function(props){\n      let merged = {...props, ...rest};\n      return ( localStorage.getItem('_auth') == null ? \n        <Component {...merged} /> : \n        <Redirect to={{pathname: '/dashboard', state: {from: props.location}}} />\n      );\n    }\n  }/>);\n};\n\n// private route - only available to non-authenticated users\nconst PrivateRoute = ({component : Component, ...rest}) => {\n  return (\n  <Route {...rest} render={\n    function(props){\n      let merged = {...props, ...rest};\n      return ( localStorage.getItem('_auth') != null ? \n        <Component {...merged} /> : \n        <Redirect to={{pathname: '/login', state: {from: props.location}}} />\n      );\n    }\n  }/>);\n};\n\n// functional component\nfunction App() {\n  return (\n    <div id=\"baseDiv\">\n      <HashRouter basename=\"/\">\n        <Switch>\n          <PublicRoute exact path=\"/\" component={Homepage} />\n          <PublicRoute exact path=\"/login\" component={AuthForm} register={false}/>\n          <PublicRoute exact path=\"/register\" component={AuthForm} register={true}/>\n          <PublicRoute exact path=\"/forgot-password\" component={ForgotPassword} reset={false}/>\n          <PublicRoute exact path=\"/reset-password/:tokenId\" component={ForgotPassword} reset={true}/>\n          <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          <Route path=\"/\" component={NotFound} />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}