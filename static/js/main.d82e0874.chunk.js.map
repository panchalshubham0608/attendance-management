{"version":3,"sources":["resources/images/brand.png","Components/Homepage/Homepage.js","DAO/DataAccessObject.js","Components/AuthForm/AuthForm.js","Components/ForgotPassword/ForgotPassword.js","Components/Dashboard/AddClassroom.js","Components/Dashboard/StudentClassroomPage.js","Components/Dashboard/InstructorClassroomPage.js","Components/Dashboard/Dashboard.js","resources/images/404.gif","Components/NotFound/NotFound.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","homepage","userSelect","header","textAlign","color","content","display","alignItems","leftFlexBox","flex","marginRight","rightFlexBox","marginLeft","brandImage","borderRadius","width","height","button","margin","Homepage","props","classes","useState","redirect","setRedirect","className","src","BrandIcon","alt","Button","variant","onClick","event","to","SECRET","axios","defaults","baseURL","decrypt","cipherText","bytes","CryptoJS","AES","JSON","parse","toString","enc","Utf8","getToken","item","localStorage","getItem","token","readClassroom","userId","classroomId","Promise","resolve","reject","post","then","response","catch","err","paper","marginTop","spacing","flexDirection","avatar","backgroundColor","palette","secondary","main","form","submit","AuthForm","register","role","setRole","loading","text","loader","setLoader","error","setError","success","setSuccess","id","active","spinner","Container","component","maxWidth","CssBaseline","Avatar","Typography","noValidate","onSubmit","preventDefault","username","String","document","getElementById","value","toLowerCase","trim","email","password","test","isValidEmail","user","registerUser","data","finally","loginUser","jsonObject","setItem","encrypt","stringify","Collapse","in","Boolean","Alert","severity","action","IconButton","aria-label","size","fontSize","TextField","fullWidth","label","name","autoComplete","autoFocus","type","FormControl","RadioGroup","row","onChange","target","FormControlLabel","control","Radio","Grid","container","xs","style","ForgotPassword","reset","tokenId","match","params","resetPassword","forgotPassword","AddClassroom","showSnackBar","onAddClassroom","isTeacher","fieldName","length","useStyles1","root","flexShrink","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","disabled","direction","Math","ceil","max","classroomPage","padding","table","minWidth","StudentClassroomPage","setSnack","classroom","setClassroom","records","setRecords","tempMessage","setTempMessage","rows","i","rec","key","attendanceId","students","indexOf","Badge","badgeContent","push","React","setPage","setRowsPerPage","emptyRows","min","useEffect","_id","visible","snackType","snackMessage","toMark","collectingFor","code","markAttendance","TableContainer","Paper","Table","TableBody","slice","map","TableRow","TableCell","scope","align","colSpan","TableFooter","TablePagination","rowsPerPageOptions","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","parseInt","ActionsComponent","InstructorClassroomPage","presentStyle","absentStyle","columns","headerRow","toUpperCase","studentOnce","studEmail","j","parseRecords","stopCollectingAttendance","collectAttendance","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","overflow","paddingTop","paddingBottom","fixedHeight","Dashboard","open","setOpen","currentItem","setCurrentItem","setUser","snack","message","hideSnackBar","readUser","removeItem","console","log","createClassroom","classCode","joinClassroom","isClassPageVisible","AppBar","clsx","Toolbar","edge","noWrap","logoutUser","Drawer","Divider","List","ListItem","ListItemIcon","ListItemText","primary","deleteClassroom","leaveClassroom","csvText","querySelectorAll","cols","children","innerText","filename","element","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","ListSubheader","inset","classrooms","onViewClassroom","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","NotFound","Image","href","hasToken","PublicRoute","Component","rest","render","merged","pathname","state","from","location","PrivateRoute","App","basename","exact","path","ReactDOM","Fragment"],"mappings":"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","file":"static/js/main.d82e0874.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/brand.2d6d0d51.png\";","import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport {Redirect} from 'react-router-dom'; \nimport Button from '@material-ui/core/Button';\nimport BrandIcon from '../../resources/images/brand.png';\nconst useStyles = makeStyles(theme => ({\n    homepage: {\n        userSelect: 'none',\n    },\n    header: {\n        textAlign: 'center',\n        color: '#2977c9',\n    },\n    content: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    leftFlexBox: {\n        flex: 0.5,\n        textAlign: \"center\",\n        marginRight: \"10px\",\n    },\n    rightFlexBox: {\n        flex: 0.5,\n        textAlign: \"left\",\n        marginLeft: \"10px\",\n    },\n    brandImage:{\n        borderRadius: '50%',\n        width: '200px',\n        height: '200px'\n    },\n    button: {\n        margin: 'auto 10px',\n    },\n}));\n\nfunction Homepage(props) {\n    const classes = useStyles();\n    const [redirect, setRedirect] = useState(null);\n    if (redirect)   return redirect;\n    return (\n        <div className={classes.homepage}>\n            <h1 className={classes.header}>Attendance Management System</h1>\n            <div className={classes.content}>\n                <div className={classes.leftFlexBox}>\n                    <img src={BrandIcon} alt=\"our-brand\" className={classes.brandImage}/>\n                </div>\n                <div className={classes.rightFlexBox}>\n                    <p>\n                        - One place to manage all your attendances! <br/>\n                        - Create and delete classrooms on-demand! <br/>\n                        - Collect attendance on-demand! <br/>\n                        - Maintain your attendance record with ease! <br/>\n                        - Export attendance-statistics of your classroom! <br/>\n                        - and many more features for free!\n                    </p>\n                    <p>\n                        Sounds exciting? <br/>\n                        Click on the button below to get started!\n                    </p>\n                    <Button className={classes.button} variant=\"contained\" \n                        color=\"primary\" onClick={event => setRedirect(<Redirect to=\"/login\" />)}>Sign In</Button>\n                    OR\n                    <Button className={classes.button} variant=\"contained\" \n                        color=\"primary\" onClick={event => setRedirect(<Redirect to=\"/register\" />)}>Sign Up</Button>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default Homepage;","import axios from 'axios';\nimport CryptoJS from 'crypto-js';\nconst SECRET='e3483b2f6bc28d1f6c5253b1c8c860cbb7562341e75059c45108afdbe0fa92d0b152dc40ded35908921aa2e954f50830f157090b5a36319edef6901469f1afeb'\naxios.defaults.baseURL = 'https://attendance-management-server.herokuapp.com';\n// axios.defaults.baseURL = 'http://localhost:8080';\n\n\n\n// encrypts the given jsonObject\nexport const encrypt = function(jsonObject) {\n    return CryptoJS.AES.encrypt(JSON.stringify(jsonObject), SECRET);\n}\n// decrypt and parses the given cipherText\nexport const decrypt = function(cipherText) {\n    let bytes = CryptoJS.AES.decrypt(cipherText, SECRET);\n    return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n}\n\n// registers the user\nexport const registerUser = function(user) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/register\", {...user})\n        .then(response => resolve(response)).catch(err => reject(err));\n    });\n};\n\n// gets the token\nfunction getToken() {\n    let item = localStorage.getItem('data');\n    if (!item)  return null;\n    let object = decrypt(item);\n    let {token} = object;\n    return token;\n}\n\n// login the user\nexport const loginUser = function(user) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/login\", {...user})\n        .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// logout the user\nexport const logoutUser = function(userId) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/logout\", {userId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// forgot password\nexport const forgotPassword = function(email, role) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/forgot-password\", {email, role})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// reset password\nexport const resetPassword = function(tokenId, password) {\n    return new Promise(function(resolve, reject){\n        axios.post(\"/reset-password\", {tokenId, password})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// reads the details of the user with given Id\nexport const readUser = function(userId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/user/\" + userId, {userId, token})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// fetches the details of the given classroom\nexport const readClassroom = function(userId, classroomId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/classroom/\" + classroomId, {userId, token})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// create classroom\nexport const createClassroom = function(userId, className) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/create-classroom\", {userId, token, className})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// delete classroom\nexport const deleteClassroom = function(userId, classroomId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/delete-classroom\", {userId, token, classroomId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// join classroom\nexport const joinClassroom = function(userId, classCode) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/join-classroom\", {userId, token, classCode})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// leave classroom\nexport const leaveClassroom = function(userId, classroomId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/leave-classroom\", {userId, token, classroomId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// collect attendance\nexport const collectAttendance = function(userId, classroomId, attendanceId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/collect-attendance\", {userId, token, classroomId, attendanceId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// stops collecting attendance\nexport const stopCollectingAttendance = function(userId, classroomId, attendanceId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/stop-collecting\", {userId, token, classroomId, attendanceId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n\n// mark-attendance\nexport const markAttendance = function(userId, classroomId) {\n    let token = getToken();\n    return new Promise(function(resolve, reject){\n        axios.post(\"/mark-attendance\", {userId, token, classroomId})\n            .then(response => resolve(response)).catch(err => reject(err));\n    });\n}\n","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport {HashLink as Link} from 'react-router-hash-link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BrandIcon from '../../resources/images/brand.png';\nimport LoadingOverlay from 'react-loading-overlay';\nimport Alert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {Redirect} from 'react-router-dom';\nimport {registerUser, loginUser, encrypt} from '../../DAO/DataAccessObject';\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\n\n\n// functional component\nexport default function AuthForm(props) {\n  const {register} = props;    \n  const classes = useStyles();\n  const [role, setRole] = useState('student');\n  const [loader, setLoader] = useState({loading: false, text : ''});\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [redirect, setRedirect] = useState(null);\n\n  \n  // returns true if email is valid; false otherwise\n  const isValidEmail = function(email){\n    const emailPattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return emailPattern.test(String(email).toLowerCase());\n  }\n\n\n  // handler for form-submit-operation\n  const onFormSubmit = function(event){\n    // read properties\n    event.preventDefault();\n    if (loader.loading) return;\n\n    // process user's input\n    let username = null;\n    if (register) username = String(document.getElementById('username').value).toLowerCase().trim();\n    let email = String(document.getElementById('email').value).toLowerCase().trim();\n    let password = String(document.getElementById('password').value).toLowerCase().trim();\n\n    // validate fields\n    if (username != null && username === '') {\n        setError('Please provide a valid username!');\n        return;\n    }\n    if(!isValidEmail(email)) {\n        setError('Please provide a valid email!');\n        return;\n    }\n    if (password === '') {\n        setError('Please provide a valid password!');\n        return;\n    }\n    if (role !== 'student' && role !== 'teacher') {\n        setError('Please select your role!');\n        return;\n    }\n\n    // make server request\n    if (register) {\n        // register user\n        setLoader({loading: true, text: `Please wait! I'm setting up your account`});        \n        let user = {username, email, password, role};\n        registerUser(user).then(response => {\n            let data = response.data;\n            if (data.error) setError(data.error);\n            else            setSuccess(`Your registration was successful!`);\n        }).catch(err => {\n            setError(err);\n        }).finally(()=>{\n            setLoader({loading: false, text: ``});\n        });\n    } else {\n        // login user\n        setLoader({loading: true, text: `Please wait! I'm validating your credentials.`});\n        let user = {email, password, role};\n        loginUser(user).then(response => {\n            let data = response.data;\n            if (data.error) {\n                setError(data.error);\n            } else {\n                localStorage.setItem('data', encrypt(data));\n                setSuccess(`You are successfully logged in!`);\n                setRedirect(<Redirect to=\"/dashboard\" />)\n            }\n        }).catch(err => {\n            setError(err);\n        }).finally(()=>{\n            setLoader({loading: false, text: ``});\n        });\n    }\n\n\n  };\n\n  // check if redirection is available\n  if (redirect) return redirect;\n\n  // return the content   \n  return (\n    <div id=\"authForm\">\n    <LoadingOverlay active={loader.loading} spinner text={loader.text}>\n        <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={BrandIcon} />\n            <Typography component=\"h1\" variant=\"h5\">\n            {register ? \"Sign Up\" : \"Sign In\"}\n            </Typography>\n            <form className={classes.form} noValidate onSubmit={onFormSubmit}>\n                {/* alerts */}\n                <Collapse in={Boolean(success || error)}>\n                    {success && <Alert severity=\"success\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(success)}</Alert>}\n                    {error && <Alert severity=\"error\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(error)}</Alert>}\n                </Collapse>\n\n                {/* input fields */}\n                {register && <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    id=\"username\" label=\"Username\" name=\"username\" autoComplete=\"text\"\n                    autoFocus />}\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    id=\"email\" label=\"Email Address\" name=\"email\"\n                    autoComplete=\"email\" autoFocus/>\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    name=\"password\" label=\"Password\" type=\"password\"\n                    id=\"password\" autoComplete=\"current-password\"/>                \n                <FormControl component=\"fieldset\">\n                <RadioGroup row aria-label=\"role\" name=\"role\" value={role} onChange={event => setRole(event.target.value)}>\n                    <FormControlLabel value=\"student\" control={<Radio />} label=\"Student\" />\n                    <FormControlLabel value=\"teacher\" control={<Radio />} label=\"Teacher\" />\n                </RadioGroup>\n                </FormControl>\n                <Button id=\"submitButton\" type=\"submit\" fullWidth\n                    variant=\"contained\" color=\"primary\"\n                    className={classes.submit}>\n                    {register ? \"Sign Up\" : \"Sign In\"}\n                </Button>\n                <Grid container>\n                    <Grid item xs>\n                        {!register && <Link to=\"/forgot-password\" variant=\"body2\">Forgot password?</Link>}\n                    </Grid>\n                    <Grid item>\n                        <Link to={register ? \"/login\" : \"/register\"} variant=\"body2\">\n                            {register ? \"Already have an account? Sign In\" : \"Don't have an account? Sign Up\"}\n                        </Link>\n                    </Grid>\n                </Grid>\n                <d style={{\"height\": \"10px\"}} />\n            </form>\n        </div>\n        </Container>  \n    </LoadingOverlay>        \n    </div>\n  );\n}","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BrandIcon from '../../resources/images/brand.png';\nimport LoadingOverlay from 'react-loading-overlay';\nimport Alert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport Collapse from '@material-ui/core/Collapse';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {HashLink as Link} from 'react-router-hash-link';\nimport Grid from '@material-ui/core/Grid';\nimport {forgotPassword, resetPassword} from '../../DAO/DataAccessObject';\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\n\n\n// functional component\nexport default function ForgotPassword(props) {\n  const {reset} = props;\n  const classes = useStyles();\n  const [role, setRole] = useState('student');\n  const [loader, setLoader] = useState({loading: false, text : ''});\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  \n  // returns true if email is valid; false otherwise\n  const isValidEmail = function(email){\n    const emailPattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return emailPattern.test(String(email).toLowerCase());\n  };\n\n  // handles the form submission\n  const onFormSubmit = function(event) {\n    event.preventDefault();\n    if (loader.loading) return;\n    if (reset) {\n      let password = String(document.getElementById('password').value).trim();\n      if (password === '') {\n        setError(`Please provide a valid password`);\n        return;\n      }\n      let {tokenId} = props.match.params;\n      // make server request\n      setLoader({loading: true, text: `Please wait! I'm processing your request!`});\n      resetPassword(tokenId, password).then(response => {\n        let {data} = response;\n        let {error} = data;\n        if (error) {\n          setError(error);\n        } else {\n          setSuccess(`Your password was successfully updated!`);\n        }\n      }).catch(err => {\n        setError(err);\n      }).finally(()=>{\n        setLoader({loading: false, text: ''});\n      });\n    } else {\n      let email = document.getElementById('email').value;\n      if (!isValidEmail(email)) {\n          setError('Please provide a valid email!');\n          return;\n      }\n      // make server request\n      setLoader({loading: true, text: `Please wait! I'm processing your request!`});\n      forgotPassword(email, role).then(response => {\n          let {data} = response;\n          let {error} = data;\n          if (error)  setError(error);\n          else        setSuccess(`An email has been sent to your email-address!`);\n      }).catch(err => {\n          setError(err);\n      }).finally(()=>{\n          setLoader({loading: false, text: ''});\n      });\n    }\n  };\n\n\n  // return the content\n  return (\n    <div id=\"forgotPasswordForm\">\n    <LoadingOverlay active={loader.loading} spinner text={loader.text}>\n        <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={BrandIcon} />\n            <Typography component=\"h1\" variant=\"h5\">\n              {reset ? 'Reset Password' : 'Forgot Password'}\n            </Typography>\n            <form className={classes.form} noValidate onSubmit={onFormSubmit}>\n                {/* alerts */}\n                <Collapse in={Boolean(success || error)}>\n                    {success && <Alert severity=\"success\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(success)}</Alert>}\n                    {error && <Alert severity=\"error\" action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\"\n                        onClick={() => { setSuccess(null); setError(null);}}>\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                    }> {String(error)}</Alert>}\n                </Collapse>\n\n                {/* input fields */}\n                {reset && \n                  <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                      id=\"password\" label=\"New Password\" name=\"password\" type=\"password\"\n                      autoComplete=\"password\" autoFocus/>}\n                {!reset && \n                  <div>\n                    <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                        id=\"email\" label=\"Email Address\" name=\"email\"\n                        autoComplete=\"email\" autoFocus/>                \n                    <FormControl component=\"fieldset\">\n                    <RadioGroup row aria-label=\"role\" name=\"role\" value={role} onChange={event => setRole(event.target.value)}>\n                        <FormControlLabel value=\"student\" control={<Radio />} label=\"Student\" />\n                        <FormControlLabel value=\"teacher\" control={<Radio />} label=\"Teacher\" />\n                    </RadioGroup>\n                    </FormControl>\n                  </div>}\n                <Button id=\"submitButton\" type=\"submit\" fullWidth\n                    variant=\"contained\" color=\"primary\"\n                    className={classes.submit}>\n                    Submit\n                </Button>\n                {!reset && \n                  <Grid container>\n                    <Grid item xs>\n                        <Link to=\"/login\" variant=\"body2\">Go to Sign In</Link>\n                    </Grid>\n                    <Grid item xs>\n                        <Link to=\"/login\" variant=\"body2\">Go to Sign Up</Link>\n                    </Grid>\n                  </Grid>}\n            </form>\n        </div>\n        </Container>  \n    </LoadingOverlay>        \n    </div>\n  );\n}","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles} from '@material-ui/core/styles';\nimport BrandIcon from '../../resources/images/brand.png';\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\n\n\n\n\n// functional component\nexport default function AddClassroom(props) {\n  const {showSnackBar, onAddClassroom, isTeacher} = props;\n  const classes = useStyles();\n  let fieldName = (isTeacher ? 'classname': 'classcode');\n\n  // handler for form-submit-operation\n  const onFormSubmit = function(event){\n    // read properties\n    event.preventDefault();\n    let className = String(document.getElementById(fieldName).value).trim();\n    if (className.length === 0){\n        showSnackBar('error', 'Please provide a valid classname');\n        return;\n    }\n    // make server request\n    onAddClassroom(className);\n  };\n\n  return (\n    <div id=\"addClassroomForm\">\n        <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <Avatar className={classes.avatar} src={BrandIcon} />\n            <Typography component=\"h1\" variant=\"h5\">\n              {isTeacher ? \"Create\" : \"Join\"} Classroom\n            </Typography>\n            <form className={classes.form} noValidate \n                onSubmit={onFormSubmit} autoComplete=\"off\">\n                {/* input fields */}\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    id={fieldName} label={fieldName} name={fieldName} autoComplete=\"off\"\n                    autoFocus />\n                <Button id=\"submitButton\" type=\"submit\" fullWidth\n                    variant=\"contained\" color=\"primary\"\n                    className={classes.submit}>\n                    {isTeacher ? \"Create\" : \"Join\"}\n                </Button>\n            </form>\n        </div>\n        </Container>  \n    </div>\n  );\n}","import React, {useState, useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport Badge from '@material-ui/core/Badge';\nimport {readClassroom, markAttendance} from '../../DAO/DataAccessObject';\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n}));\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const { count, page, rowsPerPage, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"next page\"\n      >\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"last page\"\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  );\n}\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n};\n\n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  classroomPage :{\n    padding: \"10px\", \n    width: \"80%\", \n    margin: \"10px auto\"\n  },\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n  table: {\n    minWidth: 500,\n  },\n}));\n\n\n// functional component for classroomPage\nexport default function StudentClassroomPage(props){\n  const {user, classroomId, setLoader, setSnack} = props;\n  const classes = useStyles();\n  const [classroom, setClassroom] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [tempMessage, setTempMessage] = useState('Loading details of the classroom!');\n\n  // generate stats for the user\n  let rows = [];\n  for(let i = 0; i < records.length; ++i) {\n    let rec = records[i];\n    let key = rec.attendanceId;\n    let value = null;\n    if (rec.students.indexOf(user.email) === -1) {\n      value = <Badge color=\"secondary\" badgeContent={\"Absent\"}/>\n    } else {\n      value = <Badge color=\"primary\" badgeContent={\"Present\"}/>\n    }\n    rows.push({key, value});\n  }\n  \n\n  // for table\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // invokes whenever classroomName changes!\n  useEffect(()=>{\n    setLoader({loading: true, text: `Please wait! I'm fetching details for this classroom`});\n    readClassroom(user._id, classroomId).then(response=>{\n      let data = response.data;\n      if (data.error) {\n        setTempMessage('Failed to load details of this classroom!');\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ``});\n    });\n  }, [classroomId, setLoader, setSnack, user._id]);\n\n  // makes a request to mark attendance\n  const onMarkAttendance = function() {\n    setLoader({loading: true, text: `Please wait! I'm marking your attendance!`});\n    markAttendance(user._id, classroom._id).then(response => {\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ``});\n    });\n  };\n\n  let toMark = false;\n  for (let i = 0; i < records.length; ++i)\n    if (records[i].attendanceId === classroom.collectingFor){\n      toMark = (records[i].students.indexOf(user.email) === -1);\n      break;\n    }\n\n\n  // if classroom is not loaded then show error message\n  if (classroom === null) {\n    return (\n      <div id=\"classroomPage\" className={classes.classroomPage}>\n        {tempMessage}\n      </div>\n    );\n  }\n\n  // render the actual component\n  return (\n    <div id=\"classroomPage\" className={classes.classroomPage}>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Name: </strong>{classroom.className}</div>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Code: </strong>{classroom.code}</div>\n\n        {/* display form or stop button */}\n        {classroom.collectingFor && toMark &&\n        <Button type=\"submit\" fullWidth\n          variant=\"contained\" color=\"primary\"\n          className={classes.submit} onClick={onMarkAttendance}>\n          Mark attedance for {classroom.collectingFor}\n        </Button>\n      }\n\n\n      {/* displays the records */}\n      <div style={{textAlign: 'center'}}><br/>Your attendance record for this classroom!</div>\n      <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\" id=\"attendanceRecordTable\">\n        <TableBody>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow key={row.key}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.key}\n              </TableCell>\n              <TableCell align=\"left\">\n                {row.value}\n              </TableCell>\n            </TableRow>\n          ))}\n\n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <TableContainer>\n      <Table>\n      <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true,\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n\n    </div>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField'\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport {readClassroom, collectAttendance, \n          stopCollectingAttendance} from '../../DAO/DataAccessObject';\n\nconst useStyles1 = makeStyles((theme) => ({\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n}));\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const { count, page, rowsPerPage, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"next page\"\n      >\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"last page\"\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  );\n}\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n};\n          \n\n// styles\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(0),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  classroomPage :{\n    padding: \"10px\", \n    width: \"80%\", \n    margin: \"10px auto\"\n  },\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n  table: {\n    minWidth: 500,\n  },\n}));\n\n\n\n// parses the records for the table\nfunction parseRecords(classroom, records) {\n  let presentStyle = {\n    backgroundColor: \"#cff4fc\", \n    color: '#055160', \n    padding: '5px',\n    borderRadius: '5px'\n  };\n  let absentStyle = {\n    backgroundColor: \"#f8d7da\", \n    color: '#842029', \n    padding: '5px',\n    borderRadius: '5px'\n  };\n  let rows = [];\n  let columns = ['studentId'];\n  for (let i = 0; i < records.length; ++i)\n    columns.push(records[i].attendanceId);\n  let headerRow = [];\n  for (let i = 0; i < columns.length; ++i)\n    headerRow.push(<TableCell align=\"left\" key={`head${i}`}><strong>{columns[i].toUpperCase()}</strong></TableCell>);\n  rows.push({key: `row_0`, value: headerRow});\n  if (classroom === null) return rows;\n  let students = classroom.studentOnce;\n  for (let i = 0; i < students.length; ++i) {\n    let studEmail = students[i];\n    let row = [];\n    row.push(<TableCell align=\"left\" key={`cel_${i}_0`}>{studEmail}</TableCell>)\n    for (let j = 0; j< records.length; ++j) {\n      let rec = records[j];\n      let attendees = rec.students;\n      let attended = attendees.indexOf(studEmail) !== -1;\n      let item = null;\n      if (attended) {\n        item = <span style={presentStyle}>Present</span>\n      } else {\n        // item = <Badge color=\"secondary\" badgeContent={\"Absent\"} />;\n        item = <span style={absentStyle}>Absent</span>\n      }\n      row.push(<TableCell align=\"left\" key={`cell_${i}_${j + 1}`}>{item}</TableCell>);\n    }\n    rows.push({key: `row_${i+1}`, value: row});\n  }\n  return rows;\n}\n\n\n// functional component for classroomPage\nexport default function InstructorClassroomPage(props){\n  const {classroomId, loader, setLoader, setSnack, user} = props;\n  const classes = useStyles();\n  const [classroom, setClassroom] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [tempMessage, setTempMessage] = useState('Loading details of the classroom!');\n\n  let rows = parseRecords(classroom, records);\n  // for table\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n\n  // invokes whenever classroomName changes!\n  useEffect(()=>{\n    setLoader({loading: true, text: `Please wait! I'm fetching details for this classroom`});\n    readClassroom(user._id, classroomId).then(response=>{\n      let data = response.data;\n      if (data.error) {\n        setTempMessage('Failed to load details of this classroom!');\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ``});\n    });\n  }, [classroomId, setLoader, setSnack, user._id]);\n\n\n\n  // starts collecting attendance\n  const onCollectAttendance = function(event) {\n    event.preventDefault();\n    if (loader.loading) return;\n    let attendanceId = String(document.getElementById('attendanceId').value).trim();\n    if (attendanceId === '') {\n      setSnack({visible: true, snackType: 'error', snackMessage: 'Please provide a valid attendanceId'});\n      return;\n    }\n\n    // make server request here\n    setLoader({loading: true, text: `Please wait! I'm processing your request`});\n    collectAttendance(user._id, classroom._id, attendanceId).then(response => {\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ''})\n    });\n  };\n\n  // stops collecting attendance\n  const onStopCollectingAttendance = function(event) {\n    if (loader.loading) return;\n    let classroomId = classroom._id;\n    let attendanceId = classroom.collectingFor;\n    // make server request here\n    setLoader({loading: true, text: `Please wait! I'm processing your request`});\n    stopCollectingAttendance(user._id, classroomId, attendanceId).then(response => {\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        setClassroom(data.classroom);\n        setRecords(data.records);\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    }).finally(()=>{\n      setLoader({loading: false, text: ''})\n    });\n  };\n\n\n  // if classroom is not loaded then show error message\n  if (classroom === null) {\n    return (\n      <div id=\"classroomPage\" className={classes.classroomPage}>\n        {tempMessage}\n      </div>\n    );\n  }\n\n  return (\n    <div id=\"classroomPage\" className={classes.classroomPage}>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Name: </strong>{classroom.className}</div>\n        <div style={{textAlign: \"center\"}}><strong>Classroom Code: </strong>{classroom.code}</div>\n\n        {/* display form or stop button */}\n        {classroom.collectingFor ?\n        <Button type=\"submit\" fullWidth\n          variant=\"contained\" color=\"secondary\"\n          className={classes.submit} onClick={onStopCollectingAttendance}>\n          Stop collecting attedance for {classroom.collectingFor}\n        </Button>\n        :\n        <form className={classes.form} noValidate onSubmit={onCollectAttendance}>\n            {/* input fields */}\n            <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                id=\"attendanceId\" label=\"Attendance ID\" \n                name=\"attendanceId\" autoComplete=\"text\"\n                autoFocus />\n            <Button id=\"submitButton\" type=\"submit\" fullWidth\n                variant=\"contained\" color=\"primary\"\n                className={classes.submit}>\n                Collect attendance\n            </Button>\n        </form>    \n      }\n\n\n      {/* displays the records */}\n      <div style={{textAlign: 'center'}}><br/>Your attendance record for this classroom!</div>\n      <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\" id=\"attendanceRecordTable\">\n        <TableBody>\n          {(rowsPerPage > 0\n            ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : rows\n          ).map((row) => (\n            <TableRow key={row.key}>\n              {row.value}\n            </TableRow>\n          ))}\n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <TableContainer>\n      <Table>\n        <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={rows.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true,\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n    </div>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport Alert from '@material-ui/lab/Alert';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport LoadingOverlay from 'react-loading-overlay';\nimport {Redirect} from 'react-router-dom';\nimport AddClassroom from './AddClassroom';\nimport StudentClassroomPage from './StudentClassroomPage';\nimport InstructorClassroomPage from './InstructorClassroomPage';\nimport {readUser, logoutUser, decrypt, \n          createClassroom, deleteClassroom, \n          joinClassroom, leaveClassroom} from '../../DAO/DataAccessObject';\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 240,\n  },\n}));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// functional component\nexport default function Dashboard() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(true);\n  const handleDrawerOpen = () => { setOpen(true); };\n  const handleDrawerClose = () => { setOpen(false); };\n  const [loader, setLoader] = useState({loading: false, text: ''})\n  const [currentItem, setCurrentItem] = useState(null);\n  const [user, setUser] = useState(null);\n  const [redirect, setRedirect] = useState(null);\n  const [snack, setSnack] = useState({visible: false, snackType: 'success', snackMessage: ''});\n\n\n  // snack-management\n  const showSnackBar = function(type, message) {\n    setSnack({visible: true, snackType: type, snackMessage: message});\n  }\n  const hideSnackBar = function(event) {\n    setSnack({visible: false, snackType: 'success', snackMessage: ''});\n  }\n\n  // componentDidMount\n  useEffect(function(){\n    let item = localStorage.getItem('data');\n    let data = decrypt(item);\n    let {userId} = data;\n    readUser(userId).then(response => {\n      let data = response.data;\n      if (data.error) {        \n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        localStorage.removeItem('data');\n        setRedirect(<Redirect to=\"/login\" />)\n      } else {\n        setUser(data.user);        \n      }\n    }).catch(err => {\n      console.log(err);\n      localStorage.removeItem('data');\n      setRedirect(<Redirect to=\"/login\" />)\n    });\n  }, []);\n\n  // for logout\n  const onLogout = function(event){\n    if (user == null) return;\n    let userId = user._id;\n    logoutUser(userId).then((response)=>{\n      let data = response.data;\n      if (data.error) {\n        setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n      } else {\n        localStorage.removeItem('data');\n        setRedirect(<Redirect to=\"/login\" />)\n      }\n    }).catch(err => {\n      setSnack({visible: true, snackType: 'error', snackMessage: err});\n    });\n  };\n\n\n\n  // for add-classroom!\n  const addClassroom = function(event) {\n    if (user === null)  return;\n    if (loader.loading) return;\n    let isTeacher = (user.role === 'teacher');\n    let item = <AddClassroom showSnackBar={showSnackBar} \n                  isTeacher={isTeacher} onAddClassroom={onAddClassroom}/>\n    setCurrentItem(item);\n  }\n  const onAddClassroom = function(value) {\n    if (user == null)   return;\n    if (loader.loading) return;\n    let role = user.role;\n    let isTeacher = (role === 'teacher');\n    setLoader({loading: true, \n      text: `${isTeacher ? 'Creating' : 'Joininig'} classroom`});\n    if (isTeacher) {\n      createClassroom(user._id, value).then(response => {\n        let data = response.data;\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: 'Your classroom was successfully created!'});\n          setUser(data.user);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''});\n      });\n    } else {\n      joinClassroom(user._id, value).then(response => {\n        let data = response.data;\n        console.log(data);\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: 'Your were successfully added to the classroom!'});\n          setUser(data.user);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''});\n      });\n    }\n  }\n\n\n\n  // for delete-classroom\n  const onDeleteClassroom = function() {\n    if (user === null)  return;\n    if (loader.loading) return;\n    setLoader({loading: true, text: `Please wait! I'm processing your request`});\n    let {classroomId} = currentItem.props;\n    if (user.role === 'teacher') {\n      deleteClassroom(user._id, classroomId).then(response => {\n        let data = response.data;\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: `Your classroom with all records was successfully deleted!`});\n          setUser(data.user);\n          setCurrentItem(null);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''})\n      });  \n    } else {\n      leaveClassroom(user._id, classroomId).then(response => {\n        let data = response.data;\n        if (data.error) {\n          setSnack({visible: true, snackType: 'error', snackMessage: data.error});\n        } else {\n          setSnack({visible: true, snackType: 'success', snackMessage: `You were successfully removed from the classroom!`});\n          setUser(data.user);\n          setCurrentItem(null);\n        }\n      }).catch(err => {\n        setSnack({visible: true, snackType: 'error', snackMessage: err});\n      }).finally(()=>{\n        setLoader({loading: false, text: ''})\n      });  \n    }\n  };\n\n  // for classroom-page\n  const onViewClassroom = function(classroom) {\n    if (user === null)  return;\n    if (loader.loading) return;\n    let isTeacher = (user.role === 'teacher');\n    let item = null;\n    if (isTeacher) {\n      item = <InstructorClassroomPage classroomId={classroom._id} loader={loader} \n              setLoader={setLoader} setSnack={setSnack} user={user}\n              className={classroom.className}/>\n    } else {\n      item = <StudentClassroomPage classroomId={classroom._id} loader={loader} \n              setLoader={setLoader} setSnack={setSnack} user={user} \n              className={classroom.className}/>\n    }\n    setCurrentItem(item);\n  }\n\n\n  // on export stats\n  const onExportStats = function() {\n    let csvText = \"\";\n    let rows = document.querySelectorAll('#attendanceRecordTable tr');\n    for (let i = 0; i < rows.length; ++i) {\n      let row = rows[i];\n      let cols = row.children;\n      if (cols.length === 0)  continue;\n      if (cols[0].innerText === '') continue;\n      let text = cols[0].innerText;\n      for (let j = 1; j < cols.length; ++j) {\n        let col = cols[j];\n        text += \", \" + col.innerText;\n      }\n      csvText += text + \"\\n\";\n    }\n    // download the file as csvText\n    let {className} = currentItem.props;\n    let filename = `${user.email}-${user.role}-${className}.csv`;\n    let element = document.createElement('a');\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(csvText));\n    element.setAttribute('download', filename);  \n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  // check if course-page is visible(decides export and delete  button visibility)\n  let isClassPageVisible = (currentItem != null && \n    (currentItem.type === InstructorClassroomPage || \n      currentItem.type === StudentClassroomPage));\n\n  if (redirect)       return redirect;\n  if (user === null)  return   <div>Loading your details...</div>\n  let isTeacher = (user.role === 'teacher');\n\n\n  return (\n    <LoadingOverlay active={loader.loading} spinner text={loader.text}>\n    <div className={classes.root}>\n      <CssBaseline />\n\n      {/* topbar */}\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton edge=\"start\" color=\"inherit\" \n            aria-label=\"open drawer\" onClick={handleDrawerOpen} \n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}>\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            {user.username + \"(\" + user.role + \")\"}\n          </Typography>\n          <IconButton color=\"inherit\" onClick={onLogout}>\n            <ExitToAppIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n\n\n      {/* sidebar */}\n      <Drawer variant=\"permanent\" classes={{paper: clsx(classes.drawerPaper, !open \n                    && classes.drawerPaperClose),}} open={open}>\n        <div className={classes.toolbarIcon}>\n            Attendance Management\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <div>\n            <ListItem button onClick={addClassroom} disabled={loader.loading}>\n              <ListItemIcon>\n                <AddBoxIcon />\n              </ListItemIcon>\n              <ListItemText primary={(isTeacher ? \"New classroom\" : \"Join classroom\")}/>\n            </ListItem>\n            <ListItem button onClick={onDeleteClassroom} disabled={loader.loading || !isClassPageVisible}>\n              <ListItemIcon>\n                <DeleteIcon />\n              </ListItemIcon>\n              <ListItemText primary={isTeacher ? \"Delete Classroom\" : \"Leave Classroom\"} />\n            </ListItem>\n            <ListItem button onClick={onExportStats} disabled={loader.loading || !isClassPageVisible}>\n              <ListItemIcon>\n                <GetAppIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Export Statistics\" />\n            </ListItem>\n            {/* <ListItem button disabled={loader.loading}>\n              <ListItemIcon>\n                <AccountBoxIcon />\n              </ListItemIcon>\n              <ListItemText primary=\"Manage Profile\" />\n            </ListItem> */}\n          </div>          \n        </List>\n        <Divider />\n        <List>\n          <div>\n            <ListSubheader inset>Your classrooms</ListSubheader>\n            {user.classrooms && user.classrooms.map(item => \n              <ListItem button disabled={loader.loading} \n                key={item._id} onClick={event => onViewClassroom(item)}>\n                <ListItemIcon><AssignmentIcon /></ListItemIcon>\n                <ListItemText primary={item.className}/>\n              </ListItem>            \n            )}\n          </div>\n        </List>\n      </Drawer>\n\n\n\n      {/* central content */}\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          {!currentItem && \n          <p>Welcome {user.username}!<br/>We are glad to see here.<br/>\n           Click on the left menu to get started!</p>}\n        </Container>\n        {currentItem}\n      </main>\n\n\n\n      {/* snackbar */}\n      <Snackbar anchorOrigin={{vertical: 'bottom', horizontal: 'left'}}\n        open={snack.visible} autoHideDuration={6000} onClose={hideSnackBar}>\n          <Alert severity={snack.snackType}\n          action={\n            <IconButton aria-label=\"close\" color=\"inherit\"\n              size=\"small\" onClick={hideSnackBar} >\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }>\n          {String(snack.snackMessage)}\n        </Alert>\n      </Snackbar>\n\n    </div>\n    </LoadingOverlay>\n  );\n}","export default __webpack_public_path__ + \"static/media/404.fa1a6217.gif\";","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Image from '../../resources/images/404.gif';\n// functional component\nexport default function NotFound() {\n    return (\n        <div id=\"page404\" style={{display: 'flex', alignItems: 'center', height: '100vh'}}>\n            <div>\n                <img src={Image} alt=\"page-404\" style={{width: '100%'}}/>\n            </div>\n            <div style={{textAlign: 'center'}}>\n                <p>The page you are looking for does not exist!</p>\n                <Button variant=\"contained\" color=\"primary\" href=\"/\">Home</Button>\n            </div> \n        </div>\n    );\n}","import React from 'react';\nimport {HashRouter, Route, Switch, Redirect} from 'react-router-dom';\nimport Homepage from './Components/Homepage/Homepage';\nimport AuthForm from './Components/AuthForm/AuthForm';\nimport ForgotPassword from './Components/ForgotPassword/ForgotPassword';\nimport Dashboard from './Components/Dashboard/Dashboard';\nimport NotFound from './Components/NotFound/NotFound';\nimport './App.css';\n\n// checks if user has a token\nfunction hasToken() {\n  // check if local-storage contains token\n  return (localStorage.getItem('data') != null);\n}\n\n// public route - only available to non-authenticated users\nconst PublicRoute = ({component : Component, ...rest}) => {\n  return (\n  <Route {...rest} render={\n    function(props){\n      let merged = {...props, ...rest};\n      return ( !hasToken() ? \n        <Component {...merged} /> : \n        <Redirect to={{pathname: '/dashboard', state: {from: props.location}}} />\n      );\n    }\n  }/>);\n};\n\n// private route - only available to non-authenticated users\nconst PrivateRoute = ({component : Component, ...rest}) => {\n  return (\n  <Route {...rest} render={\n    function(props){\n      let merged = {...props, ...rest};\n      return ( hasToken() ? \n        <Component {...merged} /> : \n        <Redirect to={{pathname: '/login', state: {from: props.location}}} />\n      );\n    }\n  }/>);\n};\n\n// functional component\nfunction App() {\n  return (\n    <div id=\"baseDiv\">\n      <HashRouter basename=\"/\">\n        <Switch>\n          <PublicRoute exact path=\"/\" component={Homepage} />\n          <PublicRoute exact path=\"/login\" component={AuthForm} register={false}/>\n          <PublicRoute exact path=\"/register\" component={AuthForm} register={true}/>\n          <PublicRoute exact path=\"/forgot-password\" component={ForgotPassword} reset={false}/>\n          <PublicRoute exact path=\"/reset-password/:tokenId\" component={ForgotPassword} reset={true}/>\n          <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          <Route path=\"/\" component={NotFound} />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}